{"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"role":"symbol","modules":[{"name":"RevenueCat"}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchases","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Purchases","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","kind":"typeIdentifier","text":"StoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"purchase"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka","text":"StartPurchaseBlock"},{"kind":"text","text":")"}],"symbolKind":"method","title":"purchases(_:readyForPromotedProduct:purchase:)","externalID":"c:@M@RevenueCat@objc(pl)RCPurchasesDelegate(im)purchases:readyForPromotedProduct:purchase:","required":true,"roleHeading":"Instance Method"},"sections":[],"abstract":[{"text":"Called when a user initiates a promotional in-app purchase from the App Store.","type":"text"},{"type":"text","text":" "},{"text":"If your app is able to handle a purchase at the current time, run the deferment block in this method.","type":"text"},{"type":"text","text":" "},{"text":"If the app is not in a state to make a purchase: cache the ","type":"text"},{"code":"startPurchase","type":"codeVoice"},{"type":"text","text":" block,"},{"type":"text","text":" "},{"text":"then call the ","type":"text"},{"code":"startPurchase","type":"codeVoice"},{"text":" block when the app is ready to make the promotional purchase.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/RevenueCat\/documentation\/RevenueCat","doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate"]]},"kind":"symbol","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)"},"variants":[{"paths":["\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:readyforpromotedproduct:purchase:)"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"tokens":[{"kind":"attribute","text":"@objc"},{"kind":"text","text":" "},{"kind":"keyword","text":"optional"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"purchases"},{"kind":"text","text":"("},{"kind":"externalParam","text":"_"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"purchases"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"kind":"text","text":", "},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"product"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct","kind":"typeIdentifier","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"kind":"text","text":", "},{"text":"purchase","kind":"externalParam"},{"kind":"text","text":" "},{"text":"startPurchase","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"@escaping","kind":"attribute"},{"kind":"text","text":" "},{"text":"StartPurchaseBlock","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock","preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka","kind":"typeIdentifier"},{"text":")","kind":"text"}],"languages":["swift"]},{"tokens":[{"kind":"attribute","text":"@objc"},{"text":" ","kind":"text"},{"text":"optional","kind":"keyword"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchases","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"_"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"purchases"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases","kind":"typeIdentifier","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"text":", ","kind":"text"},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"product"},{"kind":"text","text":": "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"purchase"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"startPurchase"},{"text":": ","kind":"text"},{"kind":"keyword","text":"@escaping"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"StartPurchaseBlock","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock","preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka"},{"text":")","kind":"text"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"parameters","parameters":[{"name":"product","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"StoreProduct"},{"text":" the product that was selected from the app store","type":"text"}]}]},{"name":"startPurchase","content":[{"inlineContent":[{"type":"text","text":"call this block when the app is ready to handle the purchase"}],"type":"paragraph"}]}]},{"kind":"content","content":[{"level":2,"type":"heading","text":"Discussion","anchor":"discussion"},{"inlineContent":[{"type":"text","text":"If the purchase should never be made, you don’t need to ever call the block and"},{"type":"text","text":" "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true},{"text":" will not proceed with the promotional purchase.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This can be tested by opening a link like:"},{"text":" ","type":"text"},{"type":"text","text":"itms-services:\/\/?action=purchaseIntent&bundleId=<BUNDLE_ID>&productIdentifier=<SKPRODUCT_ID>"}]},{"text":"Related Articles:","level":3,"type":"heading","anchor":"Related-Articles"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/rev.cat\/testing-promoted-in-app-purchases","isActive":true}]}]}]}]}],"references":{"https://rev.cat/testing-promoted-in-app-purchases":{"url":"https:\/\/rev.cat\/testing-promoted-in-app-purchases","title":"Apple Documentation","type":"link","titleInlineContent":[{"type":"text","text":"Apple Documentation"}],"identifier":"https:\/\/rev.cat\/testing-promoted-in-app-purchases"},"doc://RevenueCat/documentation/RevenueCat/Purchases":{"url":"\/documentation\/revenuecat\/purchases","type":"topic","role":"symbol","abstract":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true,"type":"reference"},{"type":"text","text":" is the main entry point of the "},{"code":"RevenueCat","type":"codeVoice"},{"type":"text","text":" SDK."},{"text":" ","type":"text"},{"text":"It provides access to all its features.","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"Purchases","kind":"identifier"}],"navigatorTitle":[{"text":"Purchases","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","title":"Purchases"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PurchasesDelegate"}],"kind":"symbol","navigatorTitle":[{"text":"PurchasesDelegate","kind":"identifier"}],"url":"\/documentation\/revenuecat\/purchasesdelegate","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate","abstract":[{"type":"text","text":"Delegate for "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" responsible for handling updating your app’s state in response to updated customer info"},{"text":" ","type":"text"},{"text":"or promotional product purchases.","type":"text"}],"type":"topic","role":"symbol","title":"PurchasesDelegate"},"doc://RevenueCat/documentation/RevenueCat/StartPurchaseBlock":{"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"kind":"identifier","text":"StartPurchaseBlock"}],"url":"\/documentation\/revenuecat\/startpurchaseblock","navigatorTitle":[{"text":"StartPurchaseBlock","kind":"identifier"}],"abstract":[{"type":"text","text":"Block for starting purchases in "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","isActive":true}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock","title":"StartPurchaseBlock","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:readyForPromotedProduct:purchase:)":{"type":"topic","role":"symbol","required":true,"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchases"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases"},{"text":", ","kind":"text"},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","kind":"typeIdentifier","text":"StoreProduct"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"purchase"},{"kind":"text","text":": "},{"preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka","kind":"typeIdentifier","text":"StartPurchaseBlock"},{"text":")","kind":"text"}],"url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:readyforpromotedproduct:purchase:)","abstract":[{"text":"Called when a user initiates a promotional in-app purchase from the App Store.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If your app is able to handle a purchase at the current time, run the deferment block in this method."},{"type":"text","text":" "},{"type":"text","text":"If the app is not in a state to make a purchase: cache the "},{"code":"startPurchase","type":"codeVoice"},{"text":" block,","type":"text"},{"type":"text","text":" "},{"text":"then call the ","type":"text"},{"type":"codeVoice","code":"startPurchase"},{"type":"text","text":" block when the app is ready to make the promotional purchase."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","title":"purchases(_:readyForPromotedProduct:purchase:)","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct":{"role":"symbol","url":"\/documentation\/revenuecat\/storeproduct","abstract":[{"text":"Type that provides access to all of ","type":"text"},{"type":"codeVoice","code":"StoreKit"},{"text":"‘s product type’s properties.","type":"text"}],"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"StoreProduct"}],"navigatorTitle":[{"text":"StoreProduct","kind":"identifier"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","title":"StoreProduct"},"doc://RevenueCat/documentation/RevenueCat":{"title":"RevenueCat","abstract":[{"type":"text","text":"😻 In-App Subscriptions Made Easy 😻"}],"role":"collection","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat","url":"\/documentation\/revenuecat","kind":"symbol"}}}