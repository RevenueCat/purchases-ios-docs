{"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/V4_API_Migration_guide"},"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","variants":[{"paths":["\/documentation\/revenuecat\/v4_api_migration_guide"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/RevenueCat\/documentation\/RevenueCat"]]},"abstract":[{"type":"text","text":"Migrating from Objective-C to Swift required a number of API changes, but we feel that the changes resulted in the SDK having a more natural feel for developers."}],"metadata":{"roleHeading":"Article","role":"article","title":"RevenueCat V4 API Migration Guide","modules":[{"name":"RevenueCat"}]},"primaryContentSections":[{"content":[{"anchor":"Xcode-version-requirements-and-updated-deployment-targets","type":"heading","text":"Xcode version requirements and updated deployment targets","level":3},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"purchases-ios"},{"text":" v4 requires using Xcode 13.2 or newer.","type":"text"},{"text":" ","type":"text"},{"text":"It also updates the minimum deployment targets for iOS, macOS and tvOS.","type":"text"}]},{"type":"heading","text":"Minimum deployment targets","level":5,"anchor":"Minimum-deployment-targets"},{"type":"table","header":"row","alignments":["center","center","center"],"rows":[[[{"inlineContent":[],"type":"paragraph"}],[{"inlineContent":[{"text":"v3","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"v4"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"iOS","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"9.0","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"11.0","type":"text"}]}]],[[{"inlineContent":[{"text":"tvOS","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"9.0","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"11.0"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"macOS","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"10.12","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"10.13","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"watchOS"}],"type":"paragraph"}],[{"inlineContent":[{"text":"6.2","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2 (unchanged)"}]}]]]},{"anchor":"Migration-steps","type":"heading","level":2,"text":"Migration steps"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start us off, our framework name changed from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":"! ðŸ˜»  Youâ€™ll now need to explicitly import "},{"code":"RevenueCat","type":"codeVoice"},{"text":" instead of ","type":"text"},{"code":"Purchases","type":"codeVoice"},{"text":".","type":"text"}]},{"level":3,"anchor":"1-Update-Framework-references","type":"heading","text":"1. Update Framework references"},{"text":"Swift","anchor":"Swift","type":"heading","level":5},{"header":"row","alignments":["center","center"],"type":"table","rows":[[[{"inlineContent":[{"text":"Before","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"After","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"import Purchases"}]}],[{"type":"paragraph","inlineContent":[{"code":"import RevenueCat","type":"codeVoice"}]}]]]},{"anchor":"Objective-C","text":"Objective-C","type":"heading","level":5},{"rows":[[[{"type":"paragraph","inlineContent":[{"text":"Before","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"After","type":"text"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"@import Purchases;"}],"type":"paragraph"}],[{"inlineContent":[{"code":"@import RevenueCat;","type":"codeVoice"}],"type":"paragraph"}]]],"alignments":["center","center"],"type":"table","header":"row"},{"text":"1.1 Update Swift Package Manager dependency (if needed)","level":4,"type":"heading","anchor":"11-Update-Swift-Package-Manager-dependency-if-needed"},{"inlineContent":[{"type":"text","text":"Select your target in Xcode, then go to Build Phases, and ensure that your targetâ€™s "},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" section"},{"text":" ","type":"text"},{"text":"references ","type":"text"},{"code":"RevenueCat","type":"codeVoice"},{"type":"text","text":", and remove the reference to "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" if it was still there."}],"type":"paragraph"},{"header":"row","alignments":["center","center"],"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"text":"Before","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_before_spm"}],"type":"paragraph"}],[{"inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_spm"}],"type":"paragraph"}]]]},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Due to an Xcode bug, you might run into a Workspace Integrity error after upgrading, with a message that looks like"},{"type":"text","text":" "},{"type":"codeVoice","code":"\"Couldn't load project PurchaseTester\""},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If this happens, you can fix it with the following steps:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In Xcode, go to Product -> Clean Build Folder"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Quit and re-open Xcode"}],"type":"paragraph"}]}]},{"level":4,"type":"heading","anchor":"12-Update-CocoaPods-dependency-if-needed","text":"1.2 Update CocoaPods dependency (if needed)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In your Podfile, update the reference to the Pod from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":"."}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"text":"After","type":"text"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"pod 'Purchases'"}],"type":"paragraph"}],[{"inlineContent":[{"code":"pod 'RevenueCat'","type":"codeVoice"}],"type":"paragraph"}]]],"type":"table","header":"row","alignments":["center","center"]},{"text":"1.3 Update Carthage Framework (if needed)","type":"heading","level":4,"anchor":"13-Update-Carthage-Framework-if-needed"},{"anchor":"131-Using-XCFrameworks-recommended","text":"1.3.1 Using XCFrameworks (recommended)","type":"heading","level":5},{"type":"paragraph","inlineContent":[{"text":"Select your target in Xcode, then go to Build Phases, and ensure that your targetâ€™s ","type":"text"},{"code":"Link Binary with Libraries","type":"codeVoice"},{"type":"text","text":" section"},{"type":"text","text":" "},{"type":"text","text":"references "},{"code":"RevenueCat","type":"codeVoice"},{"text":", and remove the reference to ","type":"text"},{"type":"codeVoice","code":"Purchases"},{"text":" if it was still there.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Do the same with the Embed Frameworks section."}]},{"header":"row","alignments":["center","center"],"rows":[[[{"inlineContent":[{"type":"text","text":"Before"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_before_carthage"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_carthage"}]}]],[[{"inlineContent":[{"type":"image","identifier":"embed_frameworks_before_carthage"}],"type":"paragraph"}],[{"inlineContent":[{"type":"image","identifier":"embed_frameworks_after_carthage"}],"type":"paragraph"}]]],"type":"table"},{"level":5,"anchor":"132-Using-Platform-specific-frameworks","type":"heading","text":"1.3.2 Using Platform-specific frameworks"},{"inlineContent":[{"type":"text","text":"We highly recommend moving into XCFrameworks, since these have a simpler setup and prevent compatibility issues with"},{"text":" ","type":"text"},{"type":"text","text":"multi-platform setups."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Carthage has a "},{"identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks","isActive":true,"type":"reference"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After migrating into XCFrameworks, follow the steps outlined in 1.3.1 to set up the "},{"type":"codeVoice","code":"RevenueCat.xcframework"},{"text":".","type":"text"}]},{"inlineContent":[{"text":"If you canâ€™t move into XCFrameworks, you will still need to update the ","type":"text"},{"code":"Link Binary with Libraries","type":"codeVoice"},{"type":"text","text":" phase as outlined"},{"type":"text","text":" "},{"text":"in 1.3.1 (only using a ","type":"text"},{"type":"codeVoice","code":".framework"},{"type":"text","text":" instead of "},{"code":".xcframework","type":"codeVoice"},{"type":"text","text":")."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"After that, update the your "},{"code":"input.xcfilelist","type":"codeVoice"},{"type":"text","text":" and "},{"code":"output.xcfilelist","type":"codeVoice"},{"type":"text","text":" for the Run Script phase of Carthage frameworks,"},{"text":" ","type":"text"},{"type":"text","text":"replacing "},{"type":"codeVoice","code":"Purchases.framework"},{"type":"text","text":" with "},{"type":"codeVoice","code":"RevenueCat.framework"},{"type":"text","text":"."}]},{"text":"2. Update code references","type":"heading","level":2,"anchor":"2-Update-code-references"},{"level":3,"anchor":"21-Automatic-Migration","type":"heading","text":"2.1 Automatic Migration"},{"inlineContent":[{"type":"text","text":"When building your project using v4, Xcode should automatically provide one-click fixes methods and types that have been renamed. For the most part, the migration should be doable by just building and applying Xcodeâ€™s automatic fix-its when they pop up."}],"type":"paragraph"},{"inlineContent":[{"text":"If you see any issues or new APIs that fix-its didnâ€™t cover, weâ€™d appreciate ","type":"text"},{"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","isActive":true,"type":"reference"},{"text":"!","type":"text"}],"type":"paragraph"},{"anchor":"22-Update-references-to-Purchasesfoo-to-RevenueCatfoo","text":"2.2 Update references to `Purchases.foo` to `RevenueCat.foo`","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You might run into compilation errors with a message like ","type":"text"},{"code":"Error: ","type":"codeVoice"},{"type":"text","text":"â€™_â€™ is not a member type of class â€˜RevenueCat.Purchasesâ€™`."}]},{"inlineContent":[{"type":"text","text":"The reason is that the class "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" is no longer the parent of classes such as "},{"code":"Offerings","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"You should reference classes directly or as a child of "},{"type":"codeVoice","code":"RevenueCat"},{"text":", e.g. ","type":"text"},{"code":"RevenueCat.Offerings","type":"codeVoice"},{"type":"text","text":" "},{"text":"instead of ","type":"text"},{"type":"codeVoice","code":"Purchases.Offerings"},{"type":"text","text":". You can also omit the framework entirely, i.e.: just using "},{"type":"codeVoice","code":"Offerings"},{"type":"text","text":" directly."}],"type":"paragraph"},{"type":"heading","anchor":"23-Import-StoreKit-if-needed","level":3,"text":"2.3 Import StoreKit (if needed)"},{"type":"paragraph","inlineContent":[{"text":"Our V3 SDK automatically imported ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" whenever you did "},{"type":"codeVoice","code":"import Purchases"},{"text":". Due to Swift limitations, our","type":"text"},{"type":"text","text":" "},{"type":"text","text":"V4 SDK doesnâ€™t do this automatically."}]},{"inlineContent":[{"type":"text","text":"So if youâ€™re referencing StoreKit types directly, you might need to add"},{"type":"text","text":" "},{"code":"import StoreKit","type":"codeVoice"},{"type":"text","text":" in Swift, and "},{"code":"@import StoreKit;","type":"codeVoice"},{"text":" in Objective-C.","type":"text"}],"type":"paragraph"},{"level":3,"text":"2.4 Update code to use the new types (if needed)","anchor":"24-Update-code-to-use-the-new-types-if-needed","type":"heading"},{"inlineContent":[{"type":"text","text":"Step 2.1 should automatically help you convert your code into the new types. See the â€œNew Typesâ€ section for"},{"type":"text","text":" "},{"type":"text","text":"more information on what the new types introduce."}],"type":"paragraph"},{"level":3,"type":"heading","anchor":"25-Take-advantage-of-our-new-APIs","text":"2.5 Take advantage of our new APIs"},{"inlineContent":[{"text":"We introduced new features for Customer Support, as well as","type":"text"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html"},{"text":" for our APIs.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These are optional, but could help make your code more readable and easy to maintain."}],"type":"paragraph"},{"inlineContent":[{"text":"Some additional changes include:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Updated references of "},{"code":"Purchaser","type":"codeVoice"},{"type":"text","text":" to "},{"type":"codeVoice","code":"Customer"},{"type":"text","text":" to be more consistent across our platform"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Further abstraction away from "},{"type":"codeVoice","code":"StoreKit"},{"text":" with new types.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"See the â€œNew APIsâ€ section of this guide for more details."}]},{"type":"heading","anchor":"New-Types","text":"New Types","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"To better support "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", "},{"code":"RevenueCat v4","type":"codeVoice"},{"type":"text","text":" introduces several new types to encapsulate data from "},{"type":"codeVoice","code":"StoreKit 1"},{"type":"text","text":" and "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":":"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"text":": wraps a ","type":"text"},{"type":"codeVoice","code":"StoreKit.SKProduct"},{"type":"text","text":" or "},{"code":"StoreKit.Product","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","type":"reference"},{"type":"text","text":": wraps a "},{"code":"StoreKit.SKPaymentTransaction","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"StoreKit.Transaction"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","isActive":true,"type":"reference"},{"text":": wraps a ","type":"text"},{"code":"StoreKit.SKProductDiscount","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"}]}]}]},{"inlineContent":[{"type":"text","text":"These types replace native StoreKit types in all public API methods that used them."}],"type":"paragraph"},{"text":"ObjC Changes","type":"heading","level":2,"anchor":"ObjC-Changes"},{"anchor":"Type-changes","type":"heading","text":"Type changes","level":3},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import Purchases"},{"text":" is now ","type":"text"},{"type":"codeVoice","code":"@import RevenueCat"}]},{"header":"row","type":"table","rows":[[[{"inlineContent":[{"text":"v3","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPurchaserInfo","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCCustomerInfo"}]}]],[[{"inlineContent":[{"type":"text","text":"RCTransaction"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"RCStoreTransaction"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCTransaction.productId","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"RCStoreTransaction.productIdentifier","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCTransaction.revenueCatId"}]}],[{"inlineContent":[{"type":"text","text":"RCStoreTransaction.transactionIdentifier"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPackage.product","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.storeProduct"}]}]],[[{"inlineContent":[{"type":"text","text":"(RCPurchasesErrorCode).RCOperationAlreadyInProgressError"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"RCOperationAlreadyInProgressForProductError"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPurchasesErrorDomain","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorCodeDomain"}]}]],[[{"inlineContent":[{"text":"RCBackendError","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"text":"RCBackendErrorDomain","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCFinishableKey","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"REMOVED"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceivePurchaserInfoBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCReceiveIntroEligibilityBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"type":"text","text":"RCReceiveOfferingsBlock"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCReceiveProductsBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPurchaseCompletedBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCDeferredPromotionalPurchaseBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"type":"text","text":"RCPaymentDiscountBlock"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPaymentModeNone","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"REMOVED"}],"type":"paragraph"}]]]},{"level":4,"type":"heading","anchor":"PurchasesDelegate","text":"PurchasesDelegate"},{"rows":[[[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"v4","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"purchases:didReceiveUpdatedPurchaserInfo:","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:receivedUpdatedCustomerInfo:"}]}]]],"header":"row","type":"table"},{"level":3,"anchor":"API-changes","text":"API changes","type":"heading"},{"type":"table","header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"inlineContent":[{"type":"text","text":"purchaserInfoWithCompletion:"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"getCustomerInfoWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"invalidatePurchaserInfoCache","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidateCustomerInfoCache"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -restoreTransactionsWithCompletion:"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Purchases -restorePurchasesWithCompletion:","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases -offeringsWithCompletion:"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -getOfferingsWithCompletion:","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases -productsWithIdentifiers:completion:","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -getProductsWithIdentifiers:completion:","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases -paymentDiscountForProductDiscount:product:completion:","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Check eligibility for a discount using "},{"code":"getPromotionalOffer:forProductDiscount:product:completion:","type":"codeVoice"},{"text":", then pass the promotional offer directly to ","type":"text"},{"code":"purchasePackage:withPromotionalOffer:completion:","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"purchaseProduct:withPromotionalOffer:completion:"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -purchaseProduct("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"text":")","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Purchases -purchaseProduct:withPromotionalOffer:completion:"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Purchases -purchasePackage(","type":"text"},{"type":"emphasis","inlineContent":[{"text":":discount:","type":"text"}]},{"type":"text","text":")"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Purchases -purchasePackage:withPromotionalOffer:completion:"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -createAlias:"}]}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -logIn:","type":"text"}]}]],[[{"inlineContent":[{"text":"Purchases -identify:","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Purchases -logIn:"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases -reset:","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"Purchases -logOut:"}],"type":"paragraph"}]]]},{"type":"heading","text":"Swift Changes","level":2,"anchor":"Swift-Changes"},{"text":"Type changes","level":3,"type":"heading","anchor":"Type-changes"},{"type":"paragraph","inlineContent":[{"code":"import Purchases","type":"codeVoice"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"import RevenueCat"}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"text":"v3","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"v4"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Purchases.Offering","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorDomain"}]}],[{"inlineContent":[{"type":"text","text":"See error handling below"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.Code"}]}],[{"inlineContent":[{"type":"text","text":"See error handling below"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Package"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","isActive":true}]}]],[[{"inlineContent":[{"text":"Purchases.PurchaserInfo","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases.Transaction"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction.productId"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.Transaction.revenueCatId","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier","type":"reference","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfo"}]}],[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo","type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfos"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.PeriodType"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.Store","type":"text"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPurchaseOwnershipType","type":"text"}]}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCAttributionNetwork"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibility"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"RCIntroEligibilityStatus","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"RCPaymentMode"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"text":"Purchases.LogLevel","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel","isActive":true}]}]],[[{"inlineContent":[{"text":"Purchases.Offerings","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings","isActive":true,"type":"reference"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.PackageType"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType","isActive":true}]}]],[[{"inlineContent":[{"text":"Purchases.Errors","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","type":"reference","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.ErrorCode","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","isActive":true}]}]],[[{"inlineContent":[{"text":"Package.product","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","isActive":true,"type":"reference"}]}]],[[{"inlineContent":[{"text":"Package.product.price: NSDecimalNumber","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price","isActive":true},{"text":": Decimal","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.localizedIntroductoryPriceString: String"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","type":"reference","isActive":true},{"text":": String?","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCDeferredPromotionalPurchaseBlock"}]}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Purchases.PurchaseCompletedBlock","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.ReceivePurchaserInfoBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"text":"Purchases.ReceiveOfferingsBlock","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases.ReceiveProductsBlock"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"text":"Purchases.PaymentDiscountBlock","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.RevenueCatBackendErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.operationAlreadyInProgressError"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"ReadableErrorCodeKey"}]}],[{"inlineContent":[{"type":"text","text":"REMOVED"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"RCFinishableKey"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]]],"type":"table","header":"row"},{"level":3,"text":"API changes","type":"heading","anchor":"API-changes"},{"rows":[[[{"inlineContent":[{"text":"v3","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"v4","type":"text"}]}]],[[{"inlineContent":[{"text":"invalidatePurchaserInfoCache","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"logIn(_ appUserId:, _ completion:)","type":"text"}]}],[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"createAlias(_ alias:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90","type":"reference"}]}]],[[{"inlineContent":[{"type":"text","text":"identify(_ appUserID:, _ completion:)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"reset(completion:)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfo(_ completion:)"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"offerings(_ completion:)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)","type":"reference","isActive":true}]}]],[[{"inlineContent":[{"text":"products(_ productIdentifiers:, _ completion:)","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"purchaseProduct(_ product:, _ completion:)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","type":"reference","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"text":"purchasePackage(_ package:, _ completion:)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"restoreTransactions(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)","type":"reference","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"syncPurchases(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"text":"paymentDiscount(for:product:completion:)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Get eligibility for a discount using "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)"},{"text":", then pass the offer directly to ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)","isActive":true},{"type":"text","text":" or "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)"}]}]],[[{"inlineContent":[{"text":"purchaseProduct(","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"text":")","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)","isActive":true}]}]],[[{"inlineContent":[{"text":"purchasePackage(","type":"text"},{"inlineContent":[{"type":"text","text":":discount:"}],"type":"emphasis"},{"type":"text","text":")"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)","isActive":true}]}]]],"type":"table","header":"row"},{"level":4,"text":"PurchasesDelegate","anchor":"PurchasesDelegate","type":"heading"},{"header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"v4"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"purchases(_ purchases: Purchases, didReceiveUpdated purchaserInfo: PurchaserInfo)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","isActive":true}],"type":"paragraph"}]]],"type":"table"},{"anchor":"Error-handling","level":3,"type":"heading","text":"Error handling"},{"inlineContent":[{"text":"Prior to the Swift migration, ","type":"text"},{"code":"Purchases","type":"codeVoice"},{"type":"text","text":" exposed errors as "},{"type":"codeVoice","code":"NSError"},{"type":"text","text":"s, so one could detect errors like this:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["if error.domain == Purchases.ErrorDomain {","\tswitch Purchases.ErrorCode(_nsError: error).code {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","}"]},{"inlineContent":[{"type":"text","text":"Starting from Version 4, this becomes much simpler:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["if let error = error as? RevenueCat.ErrorCode {","\tswitch error {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","} else {","\t\/\/ Error is a different type","}"]},{"type":"heading","text":"New APIs","level":2,"anchor":"New-APIs"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"All applicable methods have an "},{"overridingTitle":"async\/await alternative","identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"async\/await alternative"}],"type":"reference"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)","type":"reference"},{"text":": Use this method to show the subscription management for the current user. Depending on where they made the purchase and their OS version, this might take them to the ","type":"text"},{"type":"codeVoice","code":"managementURL"},{"type":"text","text":", or open the iOS Subscription Management page."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequestForActiveEntitlement()"},{"type":"text","text":": Use this method to begin a refund request for the purchase that granted the current entitlement."}]}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forProduct:)","isActive":true},{"text":": Use this method to begin a refund request for a purchase, specifying the product identifier.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forEntitlement:)"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the entitlement identifier."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can now use "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream","isActive":true},{"type":"text","text":" to be notified whenever thereâ€™s new "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true},{"type":"text","text":" available,"},{"text":" ","type":"text"},{"text":"as an alternative to ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)"},{"text":".","type":"text"}]}]}]},{"level":2,"type":"heading","text":"Reporting undocumented issues:","anchor":"Reporting-undocumented-issues"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Feel free to file an issue! "},{"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","isActive":true,"type":"reference"},{"text":".","type":"text"}]},{"anchor":"Known-Issues","text":"Known Issues","level":2,"type":"heading"},{"level":4,"text":"ObjC + SPM","anchor":"ObjC-+-SPM","type":"heading"},{"inlineContent":[{"type":"text","text":"If you expose any Purchases objects from one target to another (see "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/taquitos\/SPMBug"},{"type":"text","text":" "},{"type":"text","text":"for what this could look like), that second target will not build due to a missing autogenerated header."},{"type":"text","text":" "},{"text":"Currently there is a known bug in SPM whereby Xcode either doesnâ€™t pass the RevenueCat ObjC generated interface to SPM,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or SPM just doesnâ€™t integrate it. You can follow along: "},{"type":"reference","identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","isActive":true},{"text":".","type":"text"}],"type":"paragraph"},{"text":"Workaround:","anchor":"Workaround","level":5,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You must manually add the autogenerated file we committed to the repository"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"to your project, and "},{"type":"codeVoice","code":"#import RevenueCat-Swift.h"},{"type":"text","text":" in your bridging header. You can see how we do this in our"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation","isActive":true,"type":"reference"},{"type":"text","text":"."}]}],"kind":"content"}],"references":{"doc://RevenueCat/documentation/RevenueCat/Purchases":{"url":"\/documentation\/revenuecat\/purchases","type":"topic","role":"symbol","abstract":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true,"type":"reference"},{"type":"text","text":" is the main entry point of the "},{"code":"RevenueCat","type":"codeVoice"},{"type":"text","text":" SDK."},{"text":" ","type":"text"},{"text":"It provides access to all its features.","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"Purchases","kind":"identifier"}],"navigatorTitle":[{"text":"Purchases","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","title":"Purchases"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfo":{"title":"EntitlementInfo","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EntitlementInfo","kind":"identifier"}],"role":"symbol","abstract":[{"type":"text","text":"The EntitlementInfo object gives you access to all of the information about the status of a user entitlement."}],"navigatorTitle":[{"kind":"identifier","text":"EntitlementInfo"}],"kind":"symbol","url":"\/documentation\/revenuecat\/entitlementinfo","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo","type":"topic"},"doc://RevenueCat/documentation/RevenueCat/Purchases/restorePurchases(completion:)":{"type":"topic","title":"restorePurchases(completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"restorePurchases","kind":"identifier"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","text":"CustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"text":"?) -> ","kind":"text"},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"text":")?)","kind":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)","url":"\/documentation\/revenuecat\/purchases\/restorepurchases(completion:)","role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and become"},{"text":" ","type":"text"},{"type":"text","text":"associated with the current "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","type":"reference","isActive":true},{"type":"text","text":". If the receipt is being used by an existing user, the current"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"text":" will be aliased together with the ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"type":"text","text":" of the existing user."},{"text":" ","type":"text"},{"type":"text","text":"Going forward, either "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","type":"reference"},{"type":"text","text":" will be able to reference the same user."}]},"link_binary_with_libraries_after_carthage":{"variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_after_carthage.png"}],"alt":"link binary with libraries after","identifier":"link_binary_with_libraries_after_carthage","type":"image"},"https://github.com/RevenueCat/purchases-ios/tree/main/Tests/InstallationTests/SPMInstallation":{"type":"link","titleInlineContent":[{"type":"text","text":"SPMInstallationTests project"}],"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation","title":"SPMInstallationTests project","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct":{"role":"symbol","url":"\/documentation\/revenuecat\/storeproduct","abstract":[{"text":"Type that provides access to all of ","type":"text"},{"type":"codeVoice","code":"StoreKit"},{"text":"â€˜s product typeâ€™s properties.","type":"text"}],"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"StoreProduct"}],"navigatorTitle":[{"text":"StoreProduct","kind":"identifier"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","title":"StoreProduct"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:readyForPromotedProduct:purchase:)":{"type":"topic","role":"symbol","required":true,"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchases"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases"},{"text":", ","kind":"text"},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","kind":"typeIdentifier","text":"StoreProduct"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"purchase"},{"kind":"text","text":": "},{"preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka","kind":"typeIdentifier","text":"StartPurchaseBlock"},{"text":")","kind":"text"}],"url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:readyforpromotedproduct:purchase:)","abstract":[{"text":"Called when a user initiates a promotional in-app purchase from the App Store.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If your app is able to handle a purchase at the current time, run the deferment block in this method."},{"type":"text","text":" "},{"type":"text","text":"If the app is not in a state to make a purchase: cache the "},{"code":"startPurchase","type":"codeVoice"},{"text":" block,","type":"text"},{"type":"text","text":" "},{"text":"then call the ","type":"text"},{"type":"codeVoice","code":"startPurchase"},{"type":"text","text":" block when the app is ready to make the promotional purchase."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","title":"purchases(_:readyForPromotedProduct:purchase:)","kind":"symbol"},"https://github.com/RevenueCat/purchases-ios/issues/new/":{"title":"New RevenueCat Issue","titleInlineContent":[{"text":"New RevenueCat Issue","type":"text"}],"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","type":"link"},"link_binary_with_libraries_before_spm":{"type":"image","identifier":"link_binary_with_libraries_before_spm","variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_before_spm.png"}],"alt":"link binary with libraries before"},"doc://RevenueCat/documentation/RevenueCat/Purchases/promotionalOffer(forProductDiscount:product:)":{"url":"\/documentation\/revenuecat\/purchases\/promotionaloffer(forproductdiscount:product:)","kind":"symbol","title":"promotionalOffer(forProductDiscount:product:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)","role":"symbol","abstract":[{"text":"Use this method to find eligibility for this user for","type":"text"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},{"text":".","type":"text"}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"promotionalOffer","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forProductDiscount"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount","text":"StoreProductDiscount","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"product"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","text":"PromotionalOffer","kind":"typeIdentifier"}]},"doc://RevenueCat/documentation/RevenueCat/Offering":{"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Offering"}],"type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Offering"}],"url":"\/documentation\/revenuecat\/offering","title":"Offering","kind":"symbol","abstract":[{"type":"text","text":"An offering is a collection of "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","type":"reference","isActive":true},{"type":"text","text":"s, and they let you control which products"},{"text":" ","type":"text"},{"text":"are shown to users without requiring an app update.","type":"text"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/getOfferings(completion:)":{"title":"getOfferings(completion:)","url":"\/documentation\/revenuecat\/purchases\/getofferings(completion:)","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"getOfferings","kind":"identifier"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Offerings","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCOfferings"},{"text":"?, ","kind":"text"},{"kind":"typeIdentifier","text":"PublicError","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"kind":"text","text":")"}],"kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"Fetch the configured "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings"},{"type":"text","text":" for this user."}]},"link_binary_with_libraries_before_carthage":{"variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_before_carthage.png"}],"alt":"link binary with libraries before","identifier":"link_binary_with_libraries_before_carthage","type":"image"},"https://github.com/carthage/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks":{"type":"link","titleInlineContent":[{"type":"text","text":"migration guide to move into XCFrameworks available here"}],"identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks","title":"migration guide to move into XCFrameworks available here","url":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/productIdentifier":{"url":"\/documentation\/revenuecat\/storetransaction\/productidentifier","kind":"symbol","title":"productIdentifier","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier","role":"symbol","abstract":[{"type":"text","text":"The product identifier."}],"type":"topic","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"kind":"identifier","text":"productIdentifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"}]},"doc://RevenueCat/documentation/RevenueCat/Store":{"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Store"}],"role":"symbol","title":"Store","type":"topic","url":"\/documentation\/revenuecat\/store","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store","abstract":[{"text":"Enum of supported stores","type":"text"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"Store"}]},"doc://RevenueCat/documentation/RevenueCat/CustomerInfo":{"navigatorTitle":[{"kind":"identifier","text":"CustomerInfo"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","title":"CustomerInfo","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"CustomerInfo"}],"url":"\/documentation\/revenuecat\/customerinfo","type":"topic","role":"symbol","abstract":[{"type":"text","text":"A container for the most recent customer info returned from "},{"code":"Purchases","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"These objects are non-mutable and do not update automatically.","type":"text"}]},"doc://RevenueCat/documentation/RevenueCat/PackageType":{"kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/packagetype","abstract":[{"type":"text","text":"Enumeration of all possible "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"text":" types, as configured on the package.","type":"text"}],"title":"PackageType","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"PackageType","kind":"identifier"}],"navigatorTitle":[{"text":"PackageType","kind":"identifier"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequest(forEntitlement:)":{"url":"\/documentation\/revenuecat\/purchases\/beginrefundrequest(forentitlement:)","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forEntitlement:)","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"beginRefundRequest"},{"kind":"text","text":"("},{"text":"forEntitlement","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"RefundRequestStatus","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus"}],"abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"type":"text","text":" "},{"text":"the latest transaction associated with the entitlement ID.","type":"text"}],"role":"symbol","title":"beginRefundRequest(forEntitlement:)"},"doc://RevenueCat/documentation/RevenueCat/PurchaseCompletedBlock":{"url":"\/documentation\/revenuecat\/purchasecompletedblock","kind":"symbol","title":"PurchaseCompletedBlock","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","role":"symbol","abstract":[{"text":"Completion block for ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)"}],"type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseCompletedBlock"}],"fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PurchaseCompletedBlock"}]},"doc://RevenueCat/documentation/RevenueCat/PurchaseResultData":{"url":"\/documentation\/revenuecat\/purchaseresultdata","kind":"symbol","title":"PurchaseResultData","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseResultData","role":"symbol","abstract":[{"type":"text","text":"Result for "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:)","type":"reference","isActive":true},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"Counterpart of "},{"type":"codeVoice","code":"PurchaseCompletedBlock"},{"text":" for ","type":"text"},{"type":"codeVoice","code":"async"},{"type":"text","text":" APIs."}],"type":"topic","navigatorTitle":[{"text":"PurchaseResultData","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"text":"PurchaseResultData","kind":"identifier"}]},"https://bugs.swift.org/browse/SR-15154":{"type":"link","titleInlineContent":[{"type":"text","text":"SR-15154"}],"identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","title":"SR-15154","url":"https:\/\/bugs.swift.org\/browse\/SR-15154"},"doc://RevenueCat/documentation/RevenueCat/ErrorCode/operationAlreadyInProgressForProductError":{"url":"\/documentation\/revenuecat\/errorcode\/operationalreadyinprogressforproducterror","kind":"symbol","title":"ErrorCode.operationAlreadyInProgressForProductError","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","role":"symbol","abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"operationAlreadyInProgressForProductError"}]},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProductDiscount"}],"abstract":[{"type":"text","text":"Type that wraps "},{"code":"StoreKit.Product.SubscriptionOffer","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"SKProductDiscount"},{"type":"text","text":" "},{"text":"and provides access to their properties.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Information about a subscription offer that you configured in App Store Connect."}],"kind":"symbol","title":"StoreProductDiscount","type":"topic","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"StoreProductDiscount"}],"url":"\/documentation\/revenuecat\/storeproductdiscount"},"doc://RevenueCat/documentation/RevenueCat":{"title":"RevenueCat","abstract":[{"type":"text","text":"ðŸ˜» In-App Subscriptions Made Easy ðŸ˜»"}],"role":"collection","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat","url":"\/documentation\/revenuecat","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/transactionIdentifier":{"type":"topic","url":"\/documentation\/revenuecat\/storetransaction\/transactionidentifier","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier","abstract":[{"type":"text","text":"The unique identifier for the transaction."}],"title":"transactionIdentifier","role":"symbol","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"transactionIdentifier","kind":"identifier"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:completion:)":{"url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:completion:)","kind":"symbol","title":"purchase(package:promotionalOffer:completion:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)","role":"symbol","abstract":[{"type":"text","text":"Purchase the passed "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","isActive":true,"type":"reference"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"text":" ","type":"text"},{"text":"direct response to user input. From here ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" will handle the purchase with "},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" and call the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock"},{"type":"text","text":"."}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"text":", ","kind":"text"},{"text":"promotionalOffer","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"text":", ","kind":"text"},{"text":"completion","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","text":"PurchaseCompletedBlock","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"https://github.com/taquitos/SPMBug":{"title":"example project","titleInlineContent":[{"type":"text","text":"example project"}],"identifier":"https:\/\/github.com\/taquitos\/SPMBug","url":"https:\/\/github.com\/taquitos\/SPMBug","type":"link"},"doc://RevenueCat/documentation/RevenueCat/PromotionalOffer":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"PromotionalOffer","kind":"identifier"}],"abstract":[{"type":"text","text":"Represents a "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","isActive":true},{"type":"text","text":" that has been validated and"},{"text":" ","type":"text"},{"type":"text","text":"is ready to be used for a purchase."}],"kind":"symbol","title":"PromotionalOffer","type":"topic","role":"symbol","navigatorTitle":[{"text":"PromotionalOffer","kind":"identifier"}],"url":"\/documentation\/revenuecat\/promotionaloffer"},"doc://RevenueCat/documentation/RevenueCat/PeriodType":{"abstract":[{"type":"text","text":"Enum of supported period types for an entitlement."}],"navigatorTitle":[{"kind":"identifier","text":"PeriodType"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PeriodType"}],"title":"PeriodType","role":"symbol","url":"\/documentation\/revenuecat\/periodtype"},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequest(forProduct:)":{"type":"topic","url":"\/documentation\/revenuecat\/purchases\/beginrefundrequest(forproduct:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forProduct:)","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"beginRefundRequest","kind":"identifier"},{"text":"(","kind":"text"},{"text":"forProduct","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"text":"RefundRequestStatus","preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus","kind":"typeIdentifier"}],"abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the latest transaction associated with the "},{"code":"productID","type":"codeVoice"}],"role":"symbol","title":"beginRefundRequest(forProduct:)"},"doc://RevenueCat/documentation/RevenueCat/Package/storeProduct":{"title":"storeProduct","role":"symbol","type":"topic","abstract":[{"text":"The underlying ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","isActive":true,"type":"reference"}],"url":"\/documentation\/revenuecat\/package\/storeproduct","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"storeProduct","kind":"identifier"},{"kind":"text","text":": "},{"text":"StoreProduct","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:)":{"url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:)","kind":"symbol","title":"purchase(package:promotionalOffer:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)","role":"symbol","abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"text":"direct response to user input. From here ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and return"},{"type":"text","text":" "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseResultData","type":"reference"},{"text":".","type":"text"}],"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"purchase","kind":"identifier"},{"text":"(","kind":"text"},{"text":"package","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Package","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","text":"PromotionalOffer","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"PurchaseResultData","preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa"}]},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/priceFormatter":{"kind":"symbol","title":"priceFormatter","url":"\/documentation\/revenuecat\/storeproduct\/priceformatter","abstract":[{"text":"Provides a ","type":"text"},{"type":"codeVoice","code":"NumberFormatter"},{"text":", useful for formatting the price for displaying.","type":"text"}],"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"priceFormatter"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"NumberFormatter","preciseIdentifier":"c:objc(cs)NSNumberFormatter"},{"kind":"text","text":"?"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","type":"topic"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:completion:)":{"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"product"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct"},{"kind":"text","text":", "},{"text":"completion","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"PurchaseCompletedBlock","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","abstract":[{"text":"Initiates a purchase of a ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","isActive":true},{"type":"text","text":"."}],"type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:completion:)","title":"purchase(product:completion:)","role":"symbol"},"https://github.com/RevenueCat/purchases-ios/blob/main/Tests/InstallationTests/CommonFiles/RevenueCat-Swift.h":{"type":"link","titleInlineContent":[{"type":"text","text":"RevenueCat-Swift.h"}],"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h","title":"RevenueCat-Swift.h","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:receivedUpdated:)":{"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"purchases","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"receivedUpdated"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","text":"CustomerInfo"},{"kind":"text","text":")"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","required":true,"abstract":[{"type":"text","text":"Called whenever "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true},{"type":"text","text":" receives updated customer info. This may happen periodically"},{"type":"text","text":" "},{"type":"text","text":"throughout the life of the app if new information becomes available (e.g. UIApplicationDidBecomeActive).*"}],"url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:receivedupdated:)","type":"topic","title":"purchases(_:receivedUpdated:)","role":"symbol"},"https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html":{"title":"async\/await alternatives","titleInlineContent":[{"type":"text","text":"async\/await alternatives"}],"identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","url":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","type":"link"},"doc://RevenueCat/documentation/RevenueCat/LogLevel":{"title":"LogLevel","url":"\/documentation\/revenuecat\/loglevel","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"LogLevel"}],"navigatorTitle":[{"text":"LogLevel","kind":"identifier"}],"kind":"symbol","type":"topic","abstract":[{"type":"text","text":"Enumeration of the different verbosity levels."}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/getCustomerInfo(completion:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"getCustomerInfo"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"kind":"text","text":": ("},{"text":"CustomerInfo","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","preciseIdentifier":"s:10RevenueCat11PublicErrora","kind":"typeIdentifier"},{"text":"?) -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"kind":"text","text":")"}],"kind":"symbol","url":"\/documentation\/revenuecat\/purchases\/getcustomerinfo(completion:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)","abstract":[{"type":"text","text":"Get latest available customer  info."}],"type":"topic","role":"symbol","title":"getCustomerInfo(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/appUserID":{"type":"topic","role":"symbol","abstract":[{"type":"text","text":"The "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"type":"text","text":" used by "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If not passed on initialization this will be generated and cached by "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/revenuecat\/purchases\/appuserid","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"text":"appUserID","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","title":"appUserID"},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount/PaymentMode-swift.enum":{"abstract":[{"text":"The payment mode for a ","type":"text"},{"type":"codeVoice","code":"StoreProductDiscount"},{"text":" ","type":"text"},{"type":"text","text":"Indicates how the product discount price is charged."}],"kind":"symbol","title":"StoreProductDiscount.PaymentMode","navigatorTitle":[{"text":"PaymentMode","kind":"identifier"}],"role":"symbol","type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PaymentMode","kind":"identifier"}],"url":"\/documentation\/revenuecat\/storeproductdiscount\/paymentmode-swift.enum","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfos":{"navigatorTitle":[{"kind":"identifier","text":"EntitlementInfos"}],"type":"topic","role":"symbol","abstract":[{"type":"text","text":"This class contains all the entitlements associated to the user."}],"url":"\/documentation\/revenuecat\/entitlementinfos","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"EntitlementInfos"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos","title":"EntitlementInfos"},"doc://RevenueCat/documentation/RevenueCat/Package/localizedIntroductoryPriceString":{"title":"localizedIntroductoryPriceString","role":"symbol","type":"topic","abstract":[{"type":"text","text":"The price of the "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount","isActive":true,"type":"reference"},{"text":" formatted using ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","type":"reference"},{"text":".","type":"text"}],"url":"\/documentation\/revenuecat\/package\/localizedintroductorypricestring","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"localizedIntroductoryPriceString","kind":"identifier"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?","kind":"text"}]},"doc://RevenueCat/documentation/RevenueCat/Package/packageType":{"role":"symbol","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType","fragments":[{"text":"let","kind":"keyword"},{"kind":"text","text":" "},{"text":"packageType","kind":"identifier"},{"text":": ","kind":"text"},{"text":"PackageType","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@E@RCPackageType"}],"url":"\/documentation\/revenuecat\/package\/packagetype","title":"packageType","kind":"symbol","abstract":[{"type":"text","text":"The type configured for this package."}]},"doc://RevenueCat/documentation/RevenueCat/StartPurchaseBlock":{"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"kind":"identifier","text":"StartPurchaseBlock"}],"url":"\/documentation\/revenuecat\/startpurchaseblock","navigatorTitle":[{"text":"StartPurchaseBlock","kind":"identifier"}],"abstract":[{"type":"text","text":"Block for starting purchases in "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","isActive":true}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock","title":"StartPurchaseBlock","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/logIn(_:completion:)-4km90":{"url":"\/documentation\/revenuecat\/purchases\/login(_:completion:)-4km90","kind":"symbol","title":"logIn(_:completion:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90","role":"symbol","abstract":[{"text":"This function will log in the current user with an ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"logIn","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": (","kind":"text"},{"text":"CustomerInfo","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"preciseIdentifier":"s:10RevenueCat11PublicErrora","kind":"typeIdentifier","text":"PublicError"},{"text":"?) -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/customerInfoStream":{"title":"customerInfoStream","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"customerInfoStream"},{"text":": ","kind":"text"},{"text":"AsyncStream","kind":"typeIdentifier","preciseIdentifier":"s:ScS"},{"text":"<","kind":"text"},{"text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","kind":"typeIdentifier"},{"kind":"text","text":">"}],"kind":"symbol","type":"topic","abstract":[{"type":"text","text":"Returns an "},{"type":"codeVoice","code":"AsyncStream"},{"text":" of ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true,"type":"reference"},{"type":"text","text":" changes, starting from the last known value."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream","url":"\/documentation\/revenuecat\/purchases\/customerinfostream"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction":{"role":"symbol","abstract":[{"type":"text","text":"Abstract class that provides access to properties of a transaction."},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction"},{"type":"text","text":"s can represent transactions from StoreKit 1, StoreKit 2 or"},{"text":" ","type":"text"},{"type":"text","text":"transactions made from other places, like Stripe, Google Play or Amazon Store."}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"StoreTransaction"}],"title":"StoreTransaction","url":"\/documentation\/revenuecat\/storetransaction","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreTransaction"}]},"doc://RevenueCat/documentation/RevenueCat/Offerings":{"navigatorTitle":[{"text":"Offerings","kind":"identifier"}],"title":"Offerings","abstract":[{"text":"This class contains all the offerings configured in RevenueCat dashboard.","type":"text"},{"text":" ","type":"text"},{"text":"Offerings let you control which products are shown to users without requiring an app update.","type":"text"}],"url":"\/documentation\/revenuecat\/offerings","role":"symbol","type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"text":"Offerings","kind":"identifier"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibility":{"type":"topic","abstract":[{"type":"text","text":"Holds the introductory price status"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility","kind":"symbol","url":"\/documentation\/revenuecat\/introeligibility","navigatorTitle":[{"text":"IntroEligibility","kind":"identifier"}],"title":"IntroEligibility","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"IntroEligibility","kind":"identifier"}],"role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/introductoryDiscount":{"role":"symbol","abstract":[{"text":"The object containing introductory price information for the product.","type":"text"},{"type":"text","text":" "},{"text":"If youâ€™ve set up introductory prices in App Store Connect, the introductory price property will be populated.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This property is "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" if the product has no introductory price."}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"introductoryDiscount","kind":"identifier"},{"kind":"text","text":": "},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount","text":"StoreProductDiscount","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"url":"\/documentation\/revenuecat\/storeproduct\/introductorydiscount","title":"introductoryDiscount","kind":"symbol","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount"},"doc://RevenueCat/documentation/RevenueCat/PurchaseOwnershipType":{"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"PurchaseOwnershipType","kind":"identifier"}],"type":"topic","navigatorTitle":[{"text":"PurchaseOwnershipType","kind":"identifier"}],"url":"\/documentation\/revenuecat\/purchaseownershiptype","title":"PurchaseOwnershipType","kind":"symbol","role":"symbol","abstract":[{"text":"The types used to describe whether a transaction was purchased by the user,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or is available to them through Family Sharing."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType"},"doc://RevenueCat/documentation/RevenueCat/Purchases/invalidateCustomerInfoCache()":{"url":"\/documentation\/revenuecat\/purchases\/invalidatecustomerinfocache()","abstract":[{"text":"Invalidates the cache for customer information.","type":"text"}],"title":"invalidateCustomerInfoCache()","kind":"symbol","type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"invalidateCustomerInfoCache"},{"kind":"text","text":"()"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()"},"doc://RevenueCat/documentation/RevenueCat/AttributionNetwork":{"abstract":[{"text":"Enum of supported attribution networks","type":"text"}],"kind":"symbol","navigatorTitle":[{"text":"AttributionNetwork","kind":"identifier"}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"AttributionNetwork","kind":"identifier"}],"title":"AttributionNetwork","type":"topic","url":"\/documentation\/revenuecat\/attributionnetwork"},"https://github.com/RevenueCat/purchases-ios/issues/new?assignees=&labels=bug&template=bug_report.md&title=":{"type":"link","titleInlineContent":[{"type":"text","text":"bug reports"}],"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","title":"bug reports","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:completion:)":{"type":"topic","abstract":[{"text":"Initiates a purchase of a ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","type":"reference"},{"text":" with a ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","isActive":true},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)","url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:completion:)","kind":"symbol","title":"purchase(product:promotionalOffer:completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"text":"(","kind":"text"},{"text":"product","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"promotionalOffer"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","text":"PromotionalOffer"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","text":"PurchaseCompletedBlock"},{"text":")","kind":"text"}],"role":"symbol"},"link_binary_with_libraries_after_spm":{"variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_after_spm.png"}],"identifier":"link_binary_with_libraries_after_spm","alt":"link binary with libraries after","type":"image"},"doc://RevenueCat/documentation/RevenueCat/ErrorCode":{"navigatorTitle":[{"kind":"identifier","text":"ErrorCode"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","abstract":[{"type":"text","text":"Error codes used by the Purchases SDK"}],"kind":"symbol","role":"symbol","url":"\/documentation\/revenuecat\/errorcode","type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ErrorCode"}],"title":"ErrorCode"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibilityStatus":{"role":"symbol","abstract":[{"type":"text","text":"Enum of different possible states for intro price eligibility status."}],"title":"IntroEligibilityStatus","url":"\/documentation\/revenuecat\/introeligibilitystatus","type":"topic","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"text":"IntroEligibilityStatus","kind":"identifier"}],"navigatorTitle":[{"text":"IntroEligibilityStatus","kind":"identifier"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:)":{"url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:)","kind":"symbol","title":"purchase(product:promotionalOffer:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)","role":"symbol","abstract":[{"text":"Use this function if you are not using the Offerings system to purchase a ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"text":" with an","type":"text"},{"type":"text","text":" "},{"type":"text","text":"applied "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","isActive":true},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"If you are using the Offerings system, use ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)","isActive":true,"type":"reference"},{"text":" instead.","type":"text"}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"purchase"},{"text":"(","kind":"text"},{"text":"product","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"StoreProduct","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"text":"PromotionalOffer","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa","text":"PurchaseResultData","kind":"typeIdentifier"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/getProducts(_:completion:)":{"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"getProducts","kind":"identifier"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (["},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct","kind":"typeIdentifier"},{"text":"]) -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"url":"\/documentation\/revenuecat\/purchases\/getproducts(_:completion:)","title":"getProducts(_:completion:)","kind":"symbol","abstract":[{"text":"Fetches the ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","isActive":true,"type":"reference"},{"type":"text","text":"s for your IAPs for given "},{"code":"productIdentifiers","type":"codeVoice"},{"type":"text","text":"."}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequestForActiveEntitlement()":{"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequestForActiveEntitlement()","type":"topic","abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the latest transaction associated with the active entitlement."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"beginRefundRequestForActiveEntitlement"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"RefundRequestStatus","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus"}],"title":"beginRefundRequestForActiveEntitlement()","kind":"symbol","url":"\/documentation\/revenuecat\/purchases\/beginrefundrequestforactiveentitlement()"},"doc://RevenueCat/documentation/RevenueCat/Purchases/logOut(completion:)":{"url":"\/documentation\/revenuecat\/purchases\/logout(completion:)","kind":"symbol","title":"logOut(completion:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)","role":"symbol","abstract":[{"type":"text","text":"Logs out the "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true,"type":"reference"},{"text":" client, clearing the saved ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"logOut","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"text":"Void","preciseIdentifier":"s:s4Voida","kind":"typeIdentifier"},{"text":")?)","kind":"text"}]},"embed_frameworks_before_carthage":{"type":"image","identifier":"embed_frameworks_before_carthage","variants":[{"url":"\/images\/embed_frameworks_before_carthage.png","traits":["1x","light"]}],"alt":"embed frameworks before"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/localizedPriceString":{"type":"topic","role":"symbol","abstract":[{"type":"text","text":"The price of this product using "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/revenuecat\/storeproduct\/localizedpricestring","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"kind":"identifier","text":"localizedPriceString"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString","title":"localizedPriceString"},"doc://RevenueCat/documentation/RevenueCat/Package":{"abstract":[{"text":"Packages help abstract platform-specific products by grouping equivalent products across iOS, Android, and web.","type":"text"},{"text":" ","type":"text"},{"text":"A package is made up of three parts: ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier","isActive":true,"type":"reference"},{"text":", ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType","isActive":true,"type":"reference"},{"text":", and underlying ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","title":"Package","url":"\/documentation\/revenuecat\/package","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"Package","kind":"identifier"}],"navigatorTitle":[{"text":"Package","kind":"identifier"}],"kind":"symbol","role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:completion:)":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","kind":"symbol","abstract":[{"type":"text","text":"Initiates a purchase of a "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"text":".","type":"text"}],"title":"purchase(package:completion:)","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:completion:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"kind":"text","text":"("},{"text":"package","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage","text":"Package"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","kind":"typeIdentifier","text":"PurchaseCompletedBlock"},{"text":")","kind":"text"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/syncPurchases(completion:)":{"abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and"},{"type":"text","text":" "},{"type":"text","text":"become associated with the current "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"topic","title":"syncPurchases(completion:)","role":"symbol","kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"syncPurchases","kind":"identifier"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":")?)","kind":"text"}],"url":"\/documentation\/revenuecat\/purchases\/syncpurchases(completion:)"},"embed_frameworks_after_carthage":{"variants":[{"traits":["1x","light"],"url":"\/images\/embed_frameworks_after_carthage.png"}],"identifier":"embed_frameworks_after_carthage","alt":"embed frameworks after","type":"image"},"https://docs.revenuecat.com/docs/ios-subscription-offers#promotional-offers":{"type":"link","titleInlineContent":[{"type":"text","text":"iOS Promotional Offers"}],"identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","title":"iOS Promotional Offers","url":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/price":{"type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/price","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"kind":"identifier","text":"price"},{"text":": ","kind":"text"},{"text":"Decimal","kind":"typeIdentifier","preciseIdentifier":"c:@SA@NSDecimal"}],"abstract":[{"type":"text","text":"The decimal representation of the cost of the product, in local currency."},{"type":"text","text":" "},{"type":"text","text":"For a string representation of the price to display to customers, use "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString","isActive":true},{"type":"text","text":"."}],"role":"symbol","title":"price"},"doc://RevenueCat/documentation/RevenueCat/Package/identifier":{"title":"identifier","abstract":[{"type":"text","text":"The identifier for this Package."}],"url":"\/documentation\/revenuecat\/package\/identifier","role":"symbol","type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"identifier","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier"},"doc://RevenueCat/documentation/RevenueCat/Purchases/showManageSubscriptions(completion:)":{"type":"topic","url":"\/documentation\/revenuecat\/purchases\/showmanagesubscriptions(completion:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"showManageSubscriptions","kind":"identifier"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"text":": (","kind":"text"},{"kind":"typeIdentifier","text":"PublicError","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"abstract":[{"text":"Use this function to open the manage subscriptions page.","type":"text"}],"role":"symbol","title":"showManageSubscriptions(completion:)"}}}