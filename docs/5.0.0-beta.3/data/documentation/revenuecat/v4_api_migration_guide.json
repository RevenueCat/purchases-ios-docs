{"metadata":{"title":"RevenueCat V4 API Migration Guide","modules":[{"name":"RevenueCat"}],"roleHeading":"Article","role":"article"},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Xcode-version-requirements-and-updated-deployment-targets","type":"heading","level":3,"text":"Xcode version requirements and updated deployment targets"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"purchases-ios"},{"text":" v4 requires using Xcode 13.2 or newer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It also updates the minimum deployment targets for iOS, macOS and tvOS."}]},{"text":"Minimum deployment targets","type":"heading","level":5,"anchor":"Minimum-deployment-targets"},{"alignments":["center","center","center"],"rows":[[[{"inlineContent":[],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"inlineContent":[{"text":"v4","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"9.0"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"11.0"}]}]],[[{"inlineContent":[{"type":"text","text":"tvOS"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"9.0"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"11.0","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"macOS"}]}],[{"inlineContent":[{"type":"text","text":"10.12"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"10.13","type":"text"}]}]],[[{"inlineContent":[{"text":"watchOS","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2"}]}],[{"inlineContent":[{"text":"6.2 (unchanged)","type":"text"}],"type":"paragraph"}]]],"header":"row","type":"table"},{"type":"heading","text":"Migration steps","anchor":"Migration-steps","level":2},{"inlineContent":[{"type":"text","text":"To start us off, our framework name changed from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":"! 😻  You’ll now need to explicitly import "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":" instead of "},{"type":"codeVoice","code":"Purchases"},{"text":".","type":"text"}],"type":"paragraph"},{"text":"1. Update Framework references","type":"heading","level":3,"anchor":"1-Update-Framework-references"},{"level":5,"type":"heading","text":"Swift","anchor":"Swift"},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"inlineContent":[{"type":"text","text":"After"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"import Purchases","type":"codeVoice"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"code":"import RevenueCat","type":"codeVoice"}]}]]],"header":"row","alignments":["center","center"],"type":"table"},{"level":5,"anchor":"Objective-C","text":"Objective-C","type":"heading"},{"alignments":["center","center"],"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"text":"Before","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"After","type":"text"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"@import Purchases;"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"@import RevenueCat;"}],"type":"paragraph"}]]],"header":"row"},{"type":"heading","text":"1.1 Update Swift Package Manager dependency (if needed)","level":4,"anchor":"11-Update-Swift-Package-Manager-dependency-if-needed"},{"type":"paragraph","inlineContent":[{"text":"Select your target in Xcode, then go to Build Phases, and ensure that your target’s ","type":"text"},{"code":"Link Binary with Libraries","type":"codeVoice"},{"type":"text","text":" section"},{"type":"text","text":" "},{"text":"references ","type":"text"},{"type":"codeVoice","code":"RevenueCat"},{"text":", and remove the reference to ","type":"text"},{"type":"codeVoice","code":"Purchases"},{"text":" if it was still there.","type":"text"}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"text":"Before","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_before_spm"}]}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_spm"}]}]]],"header":"row","type":"table","alignments":["center","center"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]}]},{"inlineContent":[{"text":"Due to an Xcode bug, you might run into a Workspace Integrity error after upgrading, with a message that looks like","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"\"Couldn't load project PurchaseTester\""},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If this happens, you can fix it with the following steps:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"In Xcode, go to Product -> Clean Build Folder","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Quit and re-open Xcode"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"heading","text":"1.2 Update CocoaPods dependency (if needed)","level":4,"anchor":"12-Update-CocoaPods-dependency-if-needed"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In your Podfile, update the reference to the Pod from "},{"code":"Purchases","type":"codeVoice"},{"type":"text","text":" to "},{"code":"RevenueCat","type":"codeVoice"},{"type":"text","text":"."}]},{"type":"table","alignments":["center","center"],"header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"Before"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"pod 'Purchases'"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"pod 'RevenueCat'"}]}]]]},{"anchor":"13-Update-Carthage-Framework-if-needed","type":"heading","level":4,"text":"1.3 Update Carthage Framework (if needed)"},{"anchor":"131-Using-XCFrameworks-recommended","type":"heading","level":5,"text":"1.3.1 Using XCFrameworks (recommended)"},{"type":"paragraph","inlineContent":[{"text":"Select your target in Xcode, then go to Build Phases, and ensure that your target’s ","type":"text"},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" section"},{"type":"text","text":" "},{"text":"references ","type":"text"},{"type":"codeVoice","code":"RevenueCat"},{"text":", and remove the reference to ","type":"text"},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" if it was still there."},{"text":" ","type":"text"},{"type":"text","text":"Do the same with the Embed Frameworks section."}]},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"Before","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"inlineContent":[{"identifier":"link_binary_with_libraries_before_carthage","type":"image"}],"type":"paragraph"}],[{"inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_carthage"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"embed_frameworks_before_carthage"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"embed_frameworks_after_carthage","type":"image"}]}]]],"type":"table","alignments":["center","center"]},{"level":5,"text":"1.3.2 Using Platform-specific frameworks","anchor":"132-Using-Platform-specific-frameworks","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"We highly recommend moving into XCFrameworks, since these have a simpler setup and prevent compatibility issues with","type":"text"},{"text":" ","type":"text"},{"text":"multi-platform setups.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Carthage has a "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"After migrating into XCFrameworks, follow the steps outlined in 1.3.1 to set up the "},{"type":"codeVoice","code":"RevenueCat.xcframework"},{"text":".","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you can’t move into XCFrameworks, you will still need to update the "},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" phase as outlined"},{"type":"text","text":" "},{"type":"text","text":"in 1.3.1 (only using a "},{"code":".framework","type":"codeVoice"},{"text":" instead of ","type":"text"},{"type":"codeVoice","code":".xcframework"},{"text":").","type":"text"}]},{"inlineContent":[{"type":"text","text":"After that, update the your "},{"code":"input.xcfilelist","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"output.xcfilelist","type":"codeVoice"},{"type":"text","text":" for the Run Script phase of Carthage frameworks,"},{"type":"text","text":" "},{"text":"replacing ","type":"text"},{"type":"codeVoice","code":"Purchases.framework"},{"text":" with ","type":"text"},{"type":"codeVoice","code":"RevenueCat.framework"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"heading","text":"2. Update code references","level":2,"anchor":"2-Update-code-references"},{"text":"2.1 Automatic Migration","level":3,"anchor":"21-Automatic-Migration","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When building your project using v4, Xcode should automatically provide one-click fixes methods and types that have been renamed. For the most part, the migration should be doable by just building and applying Xcode’s automatic fix-its when they pop up."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you see any issues or new APIs that fix-its didn’t cover, we’d appreciate "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},{"type":"text","text":"!"}]},{"type":"heading","text":"2.2 Update references to `Purchases.foo` to `RevenueCat.foo`","anchor":"22-Update-references-to-Purchasesfoo-to-RevenueCatfoo","level":3},{"inlineContent":[{"text":"You might run into compilation errors with a message like ","type":"text"},{"type":"codeVoice","code":"Error: "},{"type":"text","text":"’_’ is not a member type of class ‘RevenueCat.Purchases’`."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The reason is that the class "},{"code":"Purchases","type":"codeVoice"},{"type":"text","text":" is no longer the parent of classes such as "},{"type":"codeVoice","code":"Offerings"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You should reference classes directly or as a child of "},{"code":"RevenueCat","type":"codeVoice"},{"type":"text","text":", e.g. "},{"type":"codeVoice","code":"RevenueCat.Offerings"},{"text":" ","type":"text"},{"type":"text","text":"instead of "},{"type":"codeVoice","code":"Purchases.Offerings"},{"text":". You can also omit the framework entirely, i.e.: just using ","type":"text"},{"code":"Offerings","type":"codeVoice"},{"type":"text","text":" directly."}],"type":"paragraph"},{"level":3,"text":"2.3 Import StoreKit (if needed)","anchor":"23-Import-StoreKit-if-needed","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Our V3 SDK automatically imported "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" whenever you did "},{"type":"codeVoice","code":"import Purchases"},{"text":". Due to Swift limitations, our","type":"text"},{"type":"text","text":" "},{"type":"text","text":"V4 SDK doesn’t do this automatically."}]},{"inlineContent":[{"text":"So if you’re referencing StoreKit types directly, you might need to add","type":"text"},{"type":"text","text":" "},{"code":"import StoreKit","type":"codeVoice"},{"type":"text","text":" in Swift, and "},{"type":"codeVoice","code":"@import StoreKit;"},{"text":" in Objective-C.","type":"text"}],"type":"paragraph"},{"text":"2.4 Update code to use the new types (if needed)","level":3,"type":"heading","anchor":"24-Update-code-to-use-the-new-types-if-needed"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Step 2.1 should automatically help you convert your code into the new types. See the “New Types” section for"},{"text":" ","type":"text"},{"text":"more information on what the new types introduce.","type":"text"}]},{"type":"heading","text":"2.5 Take advantage of our new APIs","level":3,"anchor":"25-Take-advantage-of-our-new-APIs"},{"inlineContent":[{"text":"We introduced new features for Customer Support, as well as","type":"text"},{"type":"text","text":" "},{"identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","isActive":true,"type":"reference"},{"type":"text","text":" for our APIs."},{"type":"text","text":" "},{"type":"text","text":"These are optional, but could help make your code more readable and easy to maintain."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some additional changes include:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Updated references of "},{"type":"codeVoice","code":"Purchaser"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"Customer"},{"text":" to be more consistent across our platform","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Further abstraction away from "},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" with new types."}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"See the “New APIs” section of this guide for more details."}],"type":"paragraph"},{"anchor":"New-Types","type":"heading","level":2,"text":"New Types"},{"type":"paragraph","inlineContent":[{"text":"To better support ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"RevenueCat v4"},{"type":"text","text":" introduces several new types to encapsulate data from "},{"type":"codeVoice","code":"StoreKit 1"},{"text":" and ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"type":"text","text":":"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","isActive":true},{"text":": wraps a ","type":"text"},{"code":"StoreKit.SKProduct","type":"codeVoice"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Product"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction"},{"type":"text","text":": wraps a "},{"code":"StoreKit.SKPaymentTransaction","type":"codeVoice"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Transaction"}]}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount"},{"text":": wraps a ","type":"text"},{"type":"codeVoice","code":"StoreKit.SKProductDiscount"},{"text":" or ","type":"text"},{"code":"StoreKit.Product.SubscriptionOffer","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"These types replace native StoreKit types in all public API methods that used them.","type":"text"}]},{"type":"heading","text":"ObjC Changes","level":2,"anchor":"ObjC-Changes"},{"anchor":"Type-changes","level":3,"text":"Type changes","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import Purchases"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"@import RevenueCat"}]},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"v3","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"v4","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaserInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCCustomerInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCTransaction","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"RCStoreTransaction"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCTransaction.productId","type":"text"}]}],[{"inlineContent":[{"text":"RCStoreTransaction.productIdentifier","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"RCTransaction.revenueCatId","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"RCStoreTransaction.transactionIdentifier"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"RCPackage.product","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.storeProduct"}]}]],[[{"inlineContent":[{"text":"(RCPurchasesErrorCode).RCOperationAlreadyInProgressError","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCOperationAlreadyInProgressForProductError"}]}]],[[{"inlineContent":[{"text":"RCPurchasesErrorDomain","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorCodeDomain"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCBackendError"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"text":"RCErrorUtils","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"text":"RCBackendErrorDomain","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"REMOVED"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCFinishableKey","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"inlineContent":[{"text":"RCReceivePurchaserInfoBlock","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"text":"RCReceiveIntroEligibilityBlock","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"RCReceiveOfferingsBlock"}],"type":"paragraph"}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCReceiveProductsBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPurchaseCompletedBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"text":"RCDeferredPromotionalPurchaseBlock","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"text":"RCPaymentDiscountBlock","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCPaymentModeNone","type":"text"}]}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]]],"type":"table"},{"text":"PurchasesDelegate","level":4,"anchor":"PurchasesDelegate","type":"heading"},{"header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"inlineContent":[{"text":"v4","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:didReceiveUpdatedPurchaserInfo:"}]}],[{"inlineContent":[{"text":"purchases:receivedUpdatedCustomerInfo:","type":"text"}],"type":"paragraph"}]]],"type":"table"},{"text":"API changes","type":"heading","level":3,"anchor":"API-changes"},{"type":"table","header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"inlineContent":[{"type":"text","text":"v4"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfoWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"getCustomerInfoWithCompletion:"}]}]],[[{"inlineContent":[{"text":"invalidatePurchaserInfoCache","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidateCustomerInfoCache"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -restoreTransactionsWithCompletion:"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -restorePurchasesWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases -offeringsWithCompletion:","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -getOfferingsWithCompletion:","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -productsWithIdentifiers:completion:"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Purchases -getProductsWithIdentifiers:completion:"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Purchases -paymentDiscountForProductDiscount:product:completion:","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Check eligibility for a discount using "},{"code":"getPromotionalOffer:forProductDiscount:product:completion:","type":"codeVoice"},{"type":"text","text":", then pass the promotional offer directly to "},{"type":"codeVoice","code":"purchasePackage:withPromotionalOffer:completion:"},{"text":" or ","type":"text"},{"code":"purchaseProduct:withPromotionalOffer:completion:","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -purchaseProduct("},{"inlineContent":[{"text":":discount:","type":"text"}],"type":"emphasis"},{"text":")","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -purchaseProduct:withPromotionalOffer:completion:","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -purchasePackage("},{"inlineContent":[{"text":":discount:","type":"text"}],"type":"emphasis"},{"text":")","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Purchases -purchasePackage:withPromotionalOffer:completion:"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases -createAlias:","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Purchases -logIn:","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases -identify:"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logIn:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -reset:"}]}],[{"inlineContent":[{"text":"Purchases -logOut:","type":"text"}],"type":"paragraph"}]]]},{"anchor":"Swift-Changes","type":"heading","text":"Swift Changes","level":2},{"text":"Type changes","anchor":"Type-changes","type":"heading","level":3},{"inlineContent":[{"type":"codeVoice","code":"import Purchases"},{"text":" is now ","type":"text"},{"type":"codeVoice","code":"import RevenueCat"}],"type":"paragraph"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Offering"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases.ErrorDomain"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"See error handling below"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases.ErrorCode.Code"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"See error handling below"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.Package"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.PurchaserInfo","type":"text"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","type":"reference"}]}]],[[{"inlineContent":[{"text":"Purchases.Transaction.productId","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier","type":"reference","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction.revenueCatId"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.EntitlementInfo","type":"text"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.EntitlementInfos","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos","type":"reference"}]}]],[[{"inlineContent":[{"text":"Purchases.PeriodType","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Store"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaseOwnershipType"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"RCAttributionNetwork","type":"text"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibility"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibilityStatus"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus"}]}]],[[{"inlineContent":[{"type":"text","text":"RCPaymentMode"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum","type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.LogLevel"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel","isActive":true}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.Offerings"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.PackageType","type":"text"}]}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Errors"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product.price: NSDecimalNumber"}]}],[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price"},{"type":"text","text":": Decimal"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Package.localizedIntroductoryPriceString: String","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","isActive":true},{"text":": String?","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"RCDeferredPromotionalPurchaseBlock","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock"}]}]],[[{"inlineContent":[{"type":"text","text":"Purchases.PurchaseCompletedBlock"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Purchases.ReceivePurchaserInfoBlock"}],"type":"paragraph"}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveOfferingsBlock"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveProductsBlock"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.PaymentDiscountBlock","type":"text"}]}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.RevenueCatBackendErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Purchases.ErrorCode.operationAlreadyInProgressError","type":"text"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"text":"REMOVED","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"ReadableErrorCodeKey"}]}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCFinishableKey"}]}],[{"inlineContent":[{"text":"REMOVED","type":"text"}],"type":"paragraph"}]]],"header":"row"},{"type":"heading","level":3,"text":"API changes","anchor":"API-changes"},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"v3","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidatePurchaserInfoCache"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"logIn(_ appUserId:, _ completion:)"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"createAlias(_ alias:, _ completion:)","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"identify(_ appUserID:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"reset(completion:)"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)","isActive":true,"type":"reference"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"purchaserInfo(_ completion:)","type":"text"}]}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"offerings(_ completion:)","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)","isActive":true}]}]],[[{"inlineContent":[{"text":"products(_ productIdentifiers:, _ completion:)","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"purchaseProduct(_ product:, _ completion:)","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","isActive":true,"type":"reference"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"purchasePackage(_ package:, _ completion:)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","isActive":true,"type":"reference"}]}]],[[{"inlineContent":[{"type":"text","text":"restoreTransactions(_ completion:)"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)","type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"syncPurchases(_ completion:)","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"paymentDiscount(for:product:completion:)"}]}],[{"inlineContent":[{"type":"text","text":"REMOVED - Get eligibility for a discount using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)"},{"text":", then pass the offer directly to ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)","type":"reference","isActive":true},{"type":"text","text":" or "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)","type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"purchaseProduct("},{"type":"emphasis","inlineContent":[{"text":":discount:","type":"text"}]},{"text":")","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)","type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"purchasePackage(","type":"text"},{"type":"emphasis","inlineContent":[{"text":":discount:","type":"text"}]},{"type":"text","text":")"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)"}]}]]],"type":"table"},{"text":"PurchasesDelegate","type":"heading","level":4,"anchor":"PurchasesDelegate"},{"type":"table","rows":[[[{"inlineContent":[{"type":"text","text":"v3"}],"type":"paragraph"}],[{"inlineContent":[{"text":"v4","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"purchases(_ purchases: Purchases, didReceiveUpdated purchaserInfo: PurchaserInfo)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","isActive":true}]}]]],"header":"row"},{"level":3,"text":"Error handling","anchor":"Error-handling","type":"heading"},{"inlineContent":[{"text":"Prior to the Swift migration, ","type":"text"},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" exposed errors as "},{"code":"NSError","type":"codeVoice"},{"type":"text","text":"s, so one could detect errors like this:"}],"type":"paragraph"},{"code":["if error.domain == Purchases.ErrorDomain {","\tswitch Purchases.ErrorCode(_nsError: error).code {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Starting from Version 4, this becomes much simpler:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["if let error = error as? RevenueCat.ErrorCode {","\tswitch error {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","} else {","\t\/\/ Error is a different type","}"]},{"text":"New APIs","anchor":"New-APIs","level":2,"type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"All applicable methods have an "},{"type":"reference","overridingTitleInlineContent":[{"text":"async\/await alternative","type":"text"}],"isActive":true,"overridingTitle":"async\/await alternative","identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html"},{"text":".","type":"text"}]}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)"},{"type":"text","text":": Use this method to show the subscription management for the current user. Depending on where they made the purchase and their OS version, this might take them to the "},{"type":"codeVoice","code":"managementURL"},{"type":"text","text":", or open the iOS Subscription Management page."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequestForActiveEntitlement()","isActive":true},{"type":"text","text":": Use this method to begin a refund request for the purchase that granted the current entitlement."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forProduct:)","isActive":true,"type":"reference"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the product identifier."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forEntitlement:)","type":"reference","isActive":true},{"text":": Use this method to begin a refund request for a purchase, specifying the entitlement identifier.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"You can now use ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream","isActive":true},{"type":"text","text":" to be notified whenever there’s new "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true},{"type":"text","text":" available,"},{"text":" ","type":"text"},{"type":"text","text":"as an alternative to "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}]}]},{"text":"Reporting undocumented issues:","level":2,"type":"heading","anchor":"Reporting-undocumented-issues"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Feel free to file an issue! "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/"},{"type":"text","text":"."}]},{"level":2,"type":"heading","text":"Known Issues","anchor":"Known-Issues"},{"level":4,"text":"ObjC + SPM","anchor":"ObjC-+-SPM","type":"heading"},{"inlineContent":[{"type":"text","text":"If you expose any Purchases objects from one target to another (see "},{"type":"reference","identifier":"https:\/\/github.com\/taquitos\/SPMBug","isActive":true},{"type":"text","text":" "},{"type":"text","text":"for what this could look like), that second target will not build due to a missing autogenerated header."},{"type":"text","text":" "},{"type":"text","text":"Currently there is a known bug in SPM whereby Xcode either doesn’t pass the RevenueCat ObjC generated interface to SPM,"},{"type":"text","text":" "},{"text":"or SPM just doesn’t integrate it. You can follow along: ","type":"text"},{"isActive":true,"identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"text":"Workaround:","type":"heading","anchor":"Workaround","level":5},{"type":"paragraph","inlineContent":[{"type":"text","text":"You must manually add the autogenerated file we committed to the repository"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h"},{"type":"text","text":" "},{"text":"to your project, and ","type":"text"},{"code":"#import RevenueCat-Swift.h","type":"codeVoice"},{"text":" in your bridging header. You can see how we do this in our","type":"text"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation"},{"type":"text","text":"."}]}]}],"kind":"article","abstract":[{"text":"Migrating from Objective-C to Swift required a number of API changes, but we feel that the changes resulted in the SDK having a more natural feel for developers.","type":"text"}],"variants":[{"paths":["\/documentation\/revenuecat\/v4_api_migration_guide"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/V4_API_Migration_guide"},"hierarchy":{"paths":[["doc:\/\/RevenueCat\/documentation\/RevenueCat"]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"sections":[],"references":{"doc://RevenueCat/documentation/RevenueCat/Offerings":{"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Offerings"}],"type":"topic","abstract":[{"type":"text","text":"This class contains all the offerings configured in RevenueCat dashboard."},{"type":"text","text":" "},{"type":"text","text":"Offerings let you control which products are shown to users without requiring an app update."}],"kind":"symbol","title":"Offerings","navigatorTitle":[{"text":"Offerings","kind":"identifier"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings","url":"\/documentation\/revenuecat\/offerings","role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/showManageSubscriptions(completion:)":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)","url":"\/documentation\/revenuecat\/purchases\/showmanagesubscriptions(completion:)","title":"showManageSubscriptions(completion:)","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"showManageSubscriptions"},{"text":"(","kind":"text"},{"text":"completion","kind":"externalParam"},{"kind":"text","text":": ("},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"text":"?) -> ","kind":"text"},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"role":"symbol","abstract":[{"type":"text","text":"Use this function to open the manage subscriptions page."}],"kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/productIdentifier":{"title":"productIdentifier","type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"productIdentifier","kind":"identifier"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"}],"kind":"symbol","url":"\/documentation\/revenuecat\/storetransaction\/productidentifier","abstract":[{"type":"text","text":"The product identifier."}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier"},"doc://RevenueCat/documentation/RevenueCat/PromotionalOffer":{"title":"PromotionalOffer","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","navigatorTitle":[{"text":"PromotionalOffer","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"Represents a "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","isActive":true,"type":"reference"},{"text":" that has been validated and","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is ready to be used for a purchase."}],"url":"\/documentation\/revenuecat\/promotionaloffer","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PromotionalOffer"}],"role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Package/localizedIntroductoryPriceString":{"role":"symbol","kind":"symbol","abstract":[{"text":"The price of the ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount","type":"reference"},{"type":"text","text":" formatted using "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","type":"reference","isActive":true},{"text":".","type":"text"}],"type":"topic","url":"\/documentation\/revenuecat\/package\/localizedintroductorypricestring","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"localizedIntroductoryPriceString"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"title":"localizedIntroductoryPriceString"},"link_binary_with_libraries_before_spm":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_before_spm.png"}],"alt":"link binary with libraries before","identifier":"link_binary_with_libraries_before_spm"},"doc://RevenueCat/documentation/RevenueCat/Purchases/customerInfoStream":{"title":"customerInfoStream","abstract":[{"type":"text","text":"Returns an "},{"code":"AsyncStream","type":"codeVoice"},{"text":" of ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","isActive":true,"type":"reference"},{"text":" changes, starting from the last known value.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"customerInfoStream"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:ScS","text":"AsyncStream"},{"text":"<","kind":"text"},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":">"}],"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/customerinfostream","type":"topic"},"https://github.com/RevenueCat/purchases-ios/blob/main/Tests/InstallationTests/CommonFiles/RevenueCat-Swift.h":{"title":"RevenueCat-Swift.h","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h","titleInlineContent":[{"type":"text","text":"RevenueCat-Swift.h"}],"url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h","type":"link"},"doc://RevenueCat/documentation/RevenueCat/ErrorCode/operationAlreadyInProgressForProductError":{"type":"topic","title":"ErrorCode.operationAlreadyInProgressForProductError","url":"\/documentation\/revenuecat\/errorcode\/operationalreadyinprogressforproducterror","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"text":"operationAlreadyInProgressForProductError","kind":"identifier"}],"abstract":[],"kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Package":{"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"Package","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"Packages help abstract platform-specific products by grouping equivalent products across iOS, Android, and web."},{"type":"text","text":" "},{"type":"text","text":"A package is made up of three parts: "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier","type":"reference"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType","isActive":true},{"type":"text","text":", and underlying "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","isActive":true,"type":"reference"},{"type":"text","text":"."}],"kind":"symbol","title":"Package","navigatorTitle":[{"kind":"identifier","text":"Package"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","url":"\/documentation\/revenuecat\/package","role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/PurchaseResultData":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseResultData","url":"\/documentation\/revenuecat\/purchaseresultdata","abstract":[{"type":"text","text":"Result for "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:)","isActive":true,"type":"reference"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Counterpart of ","type":"text"},{"type":"codeVoice","code":"PurchaseCompletedBlock"},{"text":" for ","type":"text"},{"code":"async","type":"codeVoice"},{"type":"text","text":" APIs."}],"kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"text":"PurchaseResultData","kind":"identifier"}],"title":"PurchaseResultData","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"PurchaseResultData"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:completion:)":{"abstract":[{"text":"Purchase the passed ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","type":"reference"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"text":"direct response to user input. From here ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true},{"text":" will handle the purchase with ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" and call the"},{"text":" ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage","text":"Package"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","text":"PromotionalOffer"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","text":"PurchaseCompletedBlock","kind":"typeIdentifier"},{"text":")","kind":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)","url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:completion:)","role":"symbol","kind":"symbol","title":"purchase(package:promotionalOffer:completion:)"},"doc://RevenueCat/documentation/RevenueCat/ErrorCode":{"navigatorTitle":[{"kind":"identifier","text":"ErrorCode"}],"type":"topic","title":"ErrorCode","role":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"ErrorCode","kind":"identifier"}],"abstract":[{"text":"Error codes used by the Purchases SDK","type":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","url":"\/documentation\/revenuecat\/errorcode","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/PurchaseCompletedBlock":{"abstract":[{"type":"text","text":"Completion block for "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","isActive":true}],"type":"topic","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PurchaseCompletedBlock","kind":"identifier"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","url":"\/documentation\/revenuecat\/purchasecompletedblock","role":"symbol","kind":"symbol","title":"PurchaseCompletedBlock","navigatorTitle":[{"kind":"identifier","text":"PurchaseCompletedBlock"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:completion:)":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","abstract":[{"text":"Initiates a purchase of a ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":"."}],"url":"\/documentation\/revenuecat\/purchases\/purchase(product:completion:)","kind":"symbol","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"text":"product","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"text":", ","kind":"text"},{"text":"completion","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","text":"PurchaseCompletedBlock"},{"kind":"text","text":")"}],"title":"purchase(product:completion:)","role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequest(forProduct:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"beginRefundRequest"},{"kind":"text","text":"("},{"text":"forProduct","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus","text":"RefundRequestStatus","kind":"typeIdentifier"}],"abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the latest transaction associated with the "},{"code":"productID","type":"codeVoice"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forProduct:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/beginrefundrequest(forproduct:)","title":"beginRefundRequest(forProduct:)","role":"symbol"},"https://github.com/taquitos/SPMBug":{"type":"link","title":"example project","identifier":"https:\/\/github.com\/taquitos\/SPMBug","url":"https:\/\/github.com\/taquitos\/SPMBug","titleInlineContent":[{"type":"text","text":"example project"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequest(forEntitlement:)":{"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequest(forEntitlement:)","role":"symbol","abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"type":"text","text":" "},{"text":"the latest transaction associated with the entitlement ID.","type":"text"}],"type":"topic","title":"beginRefundRequest(forEntitlement:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"beginRefundRequest","kind":"identifier"},{"text":"(","kind":"text"},{"text":"forEntitlement","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus","text":"RefundRequestStatus"}],"url":"\/documentation\/revenuecat\/purchases\/beginrefundrequest(forentitlement:)"},"https://github.com/carthage/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks":{"title":"migration guide to move into XCFrameworks available here","identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks","titleInlineContent":[{"type":"text","text":"migration guide to move into XCFrameworks available here"}],"url":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks","type":"link"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibilityStatus":{"title":"IntroEligibilityStatus","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus","navigatorTitle":[{"text":"IntroEligibilityStatus","kind":"identifier"}],"type":"topic","abstract":[{"text":"Enum of different possible states for intro price eligibility status.","type":"text"}],"url":"\/documentation\/revenuecat\/introeligibilitystatus","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"IntroEligibilityStatus","kind":"identifier"}],"role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","url":"\/documentation\/revenuecat\/storetransaction","abstract":[{"type":"text","text":"Abstract class that provides access to properties of a transaction."},{"text":" ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","isActive":true,"type":"reference"},{"type":"text","text":"s can represent transactions from StoreKit 1, StoreKit 2 or"},{"type":"text","text":" "},{"type":"text","text":"transactions made from other places, like Stripe, Google Play or Amazon Store."}],"kind":"symbol","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreTransaction"}],"title":"StoreTransaction","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"StoreTransaction"}]},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount/PaymentMode-swift.enum":{"title":"StoreProductDiscount.PaymentMode","navigatorTitle":[{"kind":"identifier","text":"PaymentMode"}],"type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"PaymentMode","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/revenuecat\/storeproductdiscount\/paymentmode-swift.enum","abstract":[{"text":"The payment mode for a ","type":"text"},{"type":"codeVoice","code":"StoreProductDiscount"},{"text":" ","type":"text"},{"type":"text","text":"Indicates how the product discount price is charged."}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum"},"link_binary_with_libraries_after_carthage":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_after_carthage.png"}],"alt":"link binary with libraries after","identifier":"link_binary_with_libraries_after_carthage"},"embed_frameworks_before_carthage":{"variants":[{"url":"\/images\/embed_frameworks_before_carthage.png","traits":["1x","light"]}],"identifier":"embed_frameworks_before_carthage","alt":"embed frameworks before","type":"image"},"https://bugs.swift.org/browse/SR-15154":{"type":"link","title":"SR-15154","identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","url":"https:\/\/bugs.swift.org\/browse\/SR-15154","titleInlineContent":[{"type":"text","text":"SR-15154"}]},"doc://RevenueCat/documentation/RevenueCat/StartPurchaseBlock":{"title":"StartPurchaseBlock","navigatorTitle":[{"kind":"identifier","text":"StartPurchaseBlock"}],"type":"topic","fragments":[{"text":"typealias","kind":"keyword"},{"kind":"text","text":" "},{"text":"StartPurchaseBlock","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/revenuecat\/startpurchaseblock","abstract":[{"type":"text","text":"Block for starting purchases in "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","type":"reference"}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StartPurchaseBlock"},"doc://RevenueCat/documentation/RevenueCat/Purchases/getCustomerInfo(completion:)":{"kind":"symbol","role":"symbol","title":"getCustomerInfo(completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"getCustomerInfo","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)","url":"\/documentation\/revenuecat\/purchases\/getcustomerinfo(completion:)","type":"topic","abstract":[{"type":"text","text":"Get latest available customer  info."}]},"embed_frameworks_after_carthage":{"variants":[{"traits":["1x","light"],"url":"\/images\/embed_frameworks_after_carthage.png"}],"identifier":"embed_frameworks_after_carthage","alt":"embed frameworks after","type":"image"},"doc://RevenueCat/documentation/RevenueCat/Purchases/syncPurchases(completion:)":{"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/syncpurchases(completion:)","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"syncPurchases"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","text":"CustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"text":"Void","preciseIdentifier":"s:s4Voida","kind":"typeIdentifier"},{"kind":"text","text":")?)"}],"abstract":[{"text":"This method will post all purchases associated with the current App Store account to RevenueCat and","type":"text"},{"type":"text","text":" "},{"text":"become associated with the current ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true,"type":"reference"},{"type":"text","text":"."}],"title":"syncPurchases(completion:)","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/priceFormatter":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","url":"\/documentation\/revenuecat\/storeproduct\/priceformatter","abstract":[{"type":"text","text":"Provides a "},{"code":"NumberFormatter","type":"codeVoice"},{"type":"text","text":", useful for formatting the price for displaying."}],"role":"symbol","title":"priceFormatter","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"text":"priceFormatter","kind":"identifier"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"NumberFormatter","preciseIdentifier":"c:objc(cs)NSNumberFormatter"},{"text":"?","kind":"text"}]},"https://docs.revenuecat.com/docs/ios-subscription-offers#promotional-offers":{"title":"iOS Promotional Offers","type":"link","identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","url":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","titleInlineContent":[{"type":"text","text":"iOS Promotional Offers"}]},"doc://RevenueCat/documentation/RevenueCat/PackageType":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType","type":"topic","title":"PackageType","kind":"symbol","role":"symbol","url":"\/documentation\/revenuecat\/packagetype","navigatorTitle":[{"text":"PackageType","kind":"identifier"}],"abstract":[{"type":"text","text":"Enumeration of all possible "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":" types, as configured on the package."}],"fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"PackageType","kind":"identifier"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/logIn(_:completion:)-4km90":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)-4km90","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"logIn","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": (","kind":"text"},{"text":"CustomerInfo","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":", ","kind":"text"},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"text":"?) -> ","kind":"text"},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"This function will log in the current user with an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"text":".","type":"text"}],"title":"logIn(_:completion:)","role":"symbol","kind":"symbol","url":"\/documentation\/revenuecat\/purchases\/login(_:completion:)-4km90"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:)":{"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:)","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"kind":"text","text":"("},{"text":"product","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"StoreProduct","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"text":", ","kind":"text"},{"text":"promotionalOffer","kind":"externalParam"},{"kind":"text","text":": "},{"text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa","text":"PurchaseResultData","kind":"typeIdentifier"}],"abstract":[{"text":"Use this function if you are not using the Offerings system to purchase a ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","type":"reference"},{"type":"text","text":" with an"},{"text":" ","type":"text"},{"text":"applied ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","isActive":true},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"If you are using the Offerings system, use ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)"},{"type":"text","text":" instead."}],"title":"purchase(product:promotionalOffer:)","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/PurchaseOwnershipType":{"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PurchaseOwnershipType"}],"navigatorTitle":[{"text":"PurchaseOwnershipType","kind":"identifier"}],"type":"topic","title":"PurchaseOwnershipType","url":"\/documentation\/revenuecat\/purchaseownershiptype","abstract":[{"type":"text","text":"The types used to describe whether a transaction was purchased by the user,"},{"type":"text","text":" "},{"type":"text","text":"or is available to them through Family Sharing."}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/getOfferings(completion:)":{"url":"\/documentation\/revenuecat\/purchases\/getofferings(completion:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"getOfferings","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCOfferings","text":"Offerings","kind":"typeIdentifier"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora","text":"PublicError"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"kind":"text","text":")"}],"kind":"symbol","title":"getOfferings(completion:)","type":"topic","abstract":[{"text":"Fetch the configured ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings"},{"text":" for this user.","type":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)"},"doc://RevenueCat/documentation/RevenueCat/AttributionNetwork":{"title":"AttributionNetwork","abstract":[{"text":"Enum of supported attribution networks","type":"text"}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"AttributionNetwork","kind":"identifier"}],"navigatorTitle":[{"text":"AttributionNetwork","kind":"identifier"}],"role":"symbol","url":"\/documentation\/revenuecat\/attributionnetwork","type":"topic"},"link_binary_with_libraries_after_spm":{"variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_after_spm.png"}],"identifier":"link_binary_with_libraries_after_spm","alt":"link binary with libraries after","type":"image"},"doc://RevenueCat/documentation/RevenueCat/Purchases/invalidateCustomerInfoCache()":{"title":"invalidateCustomerInfoCache()","abstract":[{"type":"text","text":"Invalidates the cache for customer information."}],"kind":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"invalidateCustomerInfoCache","kind":"identifier"},{"kind":"text","text":"()"}],"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/invalidatecustomerinfocache()","type":"topic"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfos":{"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"EntitlementInfos","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"EntitlementInfos"}],"url":"\/documentation\/revenuecat\/entitlementinfos","kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"This class contains all the entitlements associated to the user."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos","title":"EntitlementInfos","type":"topic"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibility":{"role":"symbol","url":"\/documentation\/revenuecat\/introeligibility","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"IntroEligibility","kind":"identifier"}],"navigatorTitle":[{"text":"IntroEligibility","kind":"identifier"}],"abstract":[{"type":"text","text":"Holds the introductory price status"}],"title":"IntroEligibility","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfo":{"abstract":[{"text":"The EntitlementInfo object gives you access to all of the information about the status of a user entitlement.","type":"text"}],"title":"EntitlementInfo","role":"symbol","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"EntitlementInfo"}],"url":"\/documentation\/revenuecat\/entitlementinfo","navigatorTitle":[{"text":"EntitlementInfo","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo"},"doc://RevenueCat/documentation/RevenueCat/Purchases/promotionalOffer(forProductDiscount:product:)":{"abstract":[{"type":"text","text":"Use this method to find eligibility for this user for"},{"type":"text","text":" "},{"identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"promotionalOffer","kind":"identifier"},{"kind":"text","text":"("},{"text":"forProductDiscount","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount","text":"StoreProductDiscount"},{"text":", ","kind":"text"},{"text":"product","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"StoreProduct","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)","url":"\/documentation\/revenuecat\/purchases\/promotionaloffer(forproductdiscount:product:)","role":"symbol","kind":"symbol","title":"promotionalOffer(forProductDiscount:product:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:completion:)":{"abstract":[{"text":"Initiates a purchase of a ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","type":"reference"},{"type":"text","text":" with a "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","isActive":true},{"type":"text","text":"."}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"text":"(","kind":"text"},{"text":"product","kind":"externalParam"},{"kind":"text","text":": "},{"text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"promotionalOffer"},{"text":": ","kind":"text"},{"text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka","text":"PurchaseCompletedBlock"},{"kind":"text","text":")"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)","url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:completion:)","role":"symbol","kind":"symbol","title":"purchase(product:promotionalOffer:completion:)"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/introductoryDiscount":{"role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"The object containing introductory price information for the product."},{"text":" ","type":"text"},{"type":"text","text":"If you’ve set up introductory prices in App Store Connect, the introductory price property will be populated."},{"type":"text","text":" "},{"text":"This property is ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":" if the product has no introductory price.","type":"text"}],"type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/introductorydiscount","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"introductoryDiscount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":"?"}],"title":"introductoryDiscount"},"doc://RevenueCat/documentation/RevenueCat":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat","title":"RevenueCat","kind":"symbol","abstract":[{"type":"text","text":"😻 In-App Subscriptions Made Easy 😻"}],"url":"\/documentation\/revenuecat","role":"collection","type":"topic"},"doc://RevenueCat/documentation/RevenueCat/Purchases/logOut(completion:)":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"logOut"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"text":": ((","kind":"text"},{"text":"CustomerInfo","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":"?, ","kind":"text"},{"text":"PublicError","preciseIdentifier":"s:10RevenueCat11PublicErrora","kind":"typeIdentifier"},{"text":"?) -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":")?)","kind":"text"}],"abstract":[{"type":"text","text":"Logs out the "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","type":"reference"},{"type":"text","text":" client, clearing the saved "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"text":".","type":"text"}],"title":"logOut(completion:)","role":"symbol","kind":"symbol","url":"\/documentation\/revenuecat\/purchases\/logout(completion:)"},"doc://RevenueCat/documentation/RevenueCat/CustomerInfo":{"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CustomerInfo","kind":"identifier"}],"type":"topic","title":"CustomerInfo","kind":"symbol","abstract":[{"text":"A container for the most recent customer info returned from ","type":"text"},{"code":"Purchases","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These objects are non-mutable and do not update automatically."}],"navigatorTitle":[{"kind":"identifier","text":"CustomerInfo"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","url":"\/documentation\/revenuecat\/customerinfo","role":"symbol"},"https://github.com/RevenueCat/purchases-ios/tree/main/Tests/InstallationTests/SPMInstallation":{"title":"SPMInstallationTests project","type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation","titleInlineContent":[{"type":"text","text":"SPMInstallationTests project"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/restorePurchases(completion:)":{"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"restorePurchases","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"completion"},{"text":": ((","kind":"text"},{"text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo","kind":"typeIdentifier"},{"kind":"text","text":"?, "},{"text":"PublicError","kind":"typeIdentifier","preciseIdentifier":"s:10RevenueCat11PublicErrora"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":")?)","kind":"text"}],"kind":"symbol","title":"restorePurchases(completion:)","abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and become"},{"text":" ","type":"text"},{"text":"associated with the current ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"text":". If the receipt is being used by an existing user, the current","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"text":" will be aliased together with the ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true,"type":"reference"},{"text":" of the existing user.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Going forward, either "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","isActive":true},{"text":" will be able to reference the same user.","type":"text"}],"url":"\/documentation\/revenuecat\/purchases\/restorepurchases(completion:)","role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/appUserID":{"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/appuserid","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"appUserID"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"}],"abstract":[{"text":"The ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","type":"reference"},{"text":" used by ","type":"text"},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","isActive":true},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If not passed on initialization this will be generated and cached by "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","type":"reference"},{"text":".","type":"text"}],"title":"appUserID","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/transactionIdentifier":{"type":"topic","role":"symbol","abstract":[{"type":"text","text":"The unique identifier for the transaction."}],"url":"\/documentation\/revenuecat\/storetransaction\/transactionidentifier","title":"transactionIdentifier","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"transactionIdentifier","kind":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/getProducts(_:completion:)":{"type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"getProducts"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (["},{"text":"StoreProduct","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":"]) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":")","kind":"text"}],"abstract":[{"type":"text","text":"Fetches the "},{"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","isActive":true},{"text":"s for your IAPs for given ","type":"text"},{"code":"productIdentifiers","type":"codeVoice"},{"type":"text","text":"."}],"kind":"symbol","role":"symbol","url":"\/documentation\/revenuecat\/purchases\/getproducts(_:completion:)","title":"getProducts(_:completion:)"},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","url":"\/documentation\/revenuecat\/storeproductdiscount","kind":"symbol","title":"StoreProductDiscount","abstract":[{"type":"text","text":"Type that wraps "},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"},{"type":"text","text":" and "},{"code":"SKProductDiscount","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"and provides access to their properties."},{"type":"text","text":" "},{"text":"Information about a subscription offer that you configured in App Store Connect.","type":"text"}],"type":"topic","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProductDiscount"}],"navigatorTitle":[{"text":"StoreProductDiscount","kind":"identifier"}]},"doc://RevenueCat/documentation/RevenueCat/Package/packageType":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType","abstract":[{"text":"The type configured for this package.","type":"text"}],"url":"\/documentation\/revenuecat\/package\/packagetype","title":"packageType","role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"text":"packageType","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@E@RCPackageType","kind":"typeIdentifier","text":"PackageType"}],"type":"topic"},"doc://RevenueCat/documentation/RevenueCat/Store":{"abstract":[{"type":"text","text":"Enum of supported stores"}],"url":"\/documentation\/revenuecat\/store","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"Store","kind":"identifier"}],"title":"Store","type":"topic","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Store"}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/beginRefundRequestForActiveEntitlement()":{"role":"symbol","url":"\/documentation\/revenuecat\/purchases\/beginrefundrequestforactiveentitlement()","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/beginRefundRequestForActiveEntitlement()","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"beginRefundRequestForActiveEntitlement","kind":"identifier"},{"kind":"text","text":"() "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"RefundRequestStatus","preciseIdentifier":"c:@M@RevenueCat@E@RCRefundRequestStatus","kind":"typeIdentifier"}],"abstract":[{"text":"Presents a refund request sheet in the current window scene for","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the latest transaction associated with the active entitlement."}],"title":"beginRefundRequestForActiveEntitlement()","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:)":{"title":"purchase(package:promotionalOffer:)","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)","type":"topic","abstract":[{"text":"Purchase the passed ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","type":"reference"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"type":"text","text":"direct response to user input. From here "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","type":"reference","isActive":true},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and return"},{"text":" ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseResultData","type":"reference","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:)","kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"purchase","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"text":": ","kind":"text"},{"text":"Package","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer","kind":"typeIdentifier","text":"PromotionalOffer"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"text":"PurchaseResultData","preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa","kind":"typeIdentifier"}],"role":"symbol"},"link_binary_with_libraries_before_carthage":{"variants":[{"traits":["1x","light"],"url":"\/images\/link_binary_with_libraries_before_carthage.png"}],"identifier":"link_binary_with_libraries_before_carthage","alt":"link binary with libraries before","type":"image"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:completion:)":{"kind":"symbol","type":"topic","title":"purchase(package:completion:)","abstract":[{"text":"Initiates a purchase of a ","type":"text"},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","type":"reference","isActive":true},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","role":"symbol","url":"\/documentation\/revenuecat\/purchases\/purchase(package:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"text":"(","kind":"text"},{"text":"package","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Package","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"text":")","kind":"text"}]},"doc://RevenueCat/documentation/RevenueCat/Package/storeProduct":{"role":"symbol","kind":"symbol","abstract":[{"text":"The underlying ","type":"text"},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","type":"reference"}],"type":"topic","url":"\/documentation\/revenuecat\/package\/storeproduct","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","fragments":[{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"kind":"identifier","text":"storeProduct"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct","kind":"typeIdentifier"}],"title":"storeProduct"},"https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html":{"title":"async\/await alternatives","type":"link","identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","url":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","titleInlineContent":[{"type":"text","text":"async\/await alternatives"}]},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/localizedPriceString":{"title":"localizedPriceString","type":"topic","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"localizedPriceString"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"}],"kind":"symbol","url":"\/documentation\/revenuecat\/storeproduct\/localizedpricestring","abstract":[{"type":"text","text":"The price of this product using "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","type":"reference"},{"text":".","type":"text"}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString"},"https://github.com/RevenueCat/purchases-ios/issues/new/":{"title":"New RevenueCat Issue","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","titleInlineContent":[{"type":"text","text":"New RevenueCat Issue"}],"url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","type":"link"},"https://github.com/RevenueCat/purchases-ios/issues/new?assignees=&labels=bug&template=bug_report.md&title=":{"title":"bug reports","type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","titleInlineContent":[{"type":"text","text":"bug reports"}]},"doc://RevenueCat/documentation/RevenueCat/StoreProduct":{"type":"topic","role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProduct"}],"abstract":[{"type":"text","text":"Type that provides access to all of "},{"code":"StoreKit","type":"codeVoice"},{"text":"‘s product type’s properties.","type":"text"}],"kind":"symbol","title":"StoreProduct","navigatorTitle":[{"text":"StoreProduct","kind":"identifier"}],"url":"\/documentation\/revenuecat\/storeproduct"},"doc://RevenueCat/documentation/RevenueCat/PeriodType":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType","title":"PeriodType","navigatorTitle":[{"text":"PeriodType","kind":"identifier"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PeriodType"}],"type":"topic","kind":"symbol","url":"\/documentation\/revenuecat\/periodtype","abstract":[{"text":"Enum of supported period types for an entitlement.","type":"text"}],"role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/LogLevel":{"role":"symbol","url":"\/documentation\/revenuecat\/loglevel","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"LogLevel","kind":"identifier"}],"navigatorTitle":[{"text":"LogLevel","kind":"identifier"}],"abstract":[{"text":"Enumeration of the different verbosity levels.","type":"text"}],"title":"LogLevel","kind":"symbol"},"doc://RevenueCat/documentation/RevenueCat/Offering":{"abstract":[{"type":"text","text":"An offering is a collection of "},{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"text":"s, and they let you control which products","type":"text"},{"type":"text","text":" "},{"type":"text","text":"are shown to users without requiring an app update."}],"navigatorTitle":[{"kind":"identifier","text":"Offering"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"Offering","kind":"identifier"}],"title":"Offering","kind":"symbol","url":"\/documentation\/revenuecat\/offering","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering","role":"symbol"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:readyForPromotedProduct:purchase:)":{"kind":"symbol","role":"symbol","title":"purchases(_:readyForPromotedProduct:purchase:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchases","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases"},{"text":", ","kind":"text"},{"text":"readyForPromotedProduct","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct","text":"StoreProduct","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"purchase"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10RevenueCat18StartPurchaseBlocka","text":"StartPurchaseBlock","kind":"typeIdentifier"},{"kind":"text","text":")"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:readyForPromotedProduct:purchase:)","url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:readyforpromotedproduct:purchase:)","type":"topic","abstract":[{"type":"text","text":"Called when a user initiates a promotional in-app purchase from the App Store."},{"text":" ","type":"text"},{"text":"If your app is able to handle a purchase at the current time, run the deferment block in this method.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If the app is not in a state to make a purchase: cache the "},{"code":"startPurchase","type":"codeVoice"},{"type":"text","text":" block,"},{"type":"text","text":" "},{"text":"then call the ","type":"text"},{"code":"startPurchase","type":"codeVoice"},{"type":"text","text":" block when the app is ready to make the promotional purchase."}]},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/price":{"title":"price","type":"topic","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"text":"price","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Decimal","kind":"typeIdentifier","preciseIdentifier":"c:@SA@NSDecimal"}],"kind":"symbol","url":"\/documentation\/revenuecat\/storeproduct\/price","abstract":[{"text":"The decimal representation of the cost of the product, in local currency.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For a string representation of the price to display to customers, use "},{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString","isActive":true,"type":"reference"},{"text":".","type":"text"}],"role":"symbol","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price"},"doc://RevenueCat/documentation/RevenueCat/Purchases":{"url":"\/documentation\/revenuecat\/purchases","type":"topic","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","kind":"symbol","navigatorTitle":[{"text":"Purchases","kind":"identifier"}],"role":"symbol","abstract":[{"isActive":true,"type":"reference","identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" is the main entry point of the "},{"type":"codeVoice","code":"RevenueCat"},{"text":" SDK.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"It provides access to all its features."}],"title":"Purchases","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Purchases"}]},"doc://RevenueCat/documentation/RevenueCat/Package/identifier":{"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier","abstract":[{"type":"text","text":"The identifier for this Package."}],"url":"\/documentation\/revenuecat\/package\/identifier","title":"identifier","role":"symbol","kind":"symbol","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"identifier","kind":"identifier"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"}],"type":"topic"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:receivedUpdated:)":{"kind":"symbol","role":"symbol","title":"purchases(_:receivedUpdated:)","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"purchases","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases","text":"Purchases"},{"text":", ","kind":"text"},{"text":"receivedUpdated","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"CustomerInfo","kind":"typeIdentifier","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"text":")","kind":"text"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:receivedupdated:)","type":"topic","abstract":[{"type":"text","text":"Called whenever "},{"isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","type":"reference"},{"text":" receives updated customer info. This may happen periodically","type":"text"},{"type":"text","text":" "},{"type":"text","text":"throughout the life of the app if new information becomes available (e.g. UIApplicationDidBecomeActive).*"}]}}}